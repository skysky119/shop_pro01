/*!
 * Zentrick Player v2.5.90
 * Copyright Â© 2017 Zentrick nv. All rights reserved.
 * https://www.zentrick.com/
 */
!function(a,b){"use strict";function c(a,b){function c(){}c.prototype=a;var d=new c;for(var e in b)d[e]=b[e];return b.toString!==Object.prototype.toString&&(d.toString=b.toString),d}function d(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=oa++);var c;return null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__],null==c&&(c=function(){return c.method.apply(c.scope,arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c),c}a.zentrick=a.zentrick||{};var e={},f=function(a,b){b=b.split("u").join(""),this.r=RegExp(a,b)};e.EReg=f,f.__name__=!0,f.prototype={match:function(a){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(a),this.r.s=a,null!=this.r.m},matched:function(a){if(null!=this.r.m&&a>=0&&a<this.r.m.length)return this.r.m[a];throw new q("EReg::matched")},matchedRight:function(){if(null==this.r.m)throw new q("No string matched");var a=this.r.m.index+this.r.m[0].length;return g.substr(this.r.s,a,this.r.s.length-a)},matchedPos:function(){if(null==this.r.m)throw new q("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(a,b,c){if(null==c&&(c=-1),this.r.global){this.r.lastIndex=b,this.r.m=this.r.exec(0>c?a:g.substr(a,0,b+c));var d=null!=this.r.m;return d&&(this.r.s=a),d}var e=this.match(0>c?g.substr(a,b,null):g.substr(a,b,c));return e&&(this.r.s=a,this.r.m.index+=b),e},split:function(a){var b="#__delim__#";return a.replace(this.r,b).split(b)},replace:function(a,b){return a.replace(this.r,b)},map:function(a,b){var c=0,d=new j;do{if(c>=a.length)break;if(!this.matchSub(a,c)){d.add(g.substr(a,c,null));break}var e=this.matchedPos();d.add(g.substr(a,c,e.pos-c)),d.add(b(this)),0==e.len?(d.add(g.substr(a,e.pos,1)),c=e.pos+1):c=e.pos+e.len}while(this.r.global);return!this.r.global&&c>0&&c<a.length&&d.add(g.substr(a,c,null)),d.b},__class__:f};var g=function(){};e.HxOverrides=g,g.__name__=!0,g.substr=function(a,b,c){return null!=b&&0!=b&&null!=c&&0>c?"":(null==c&&(c=a.length),0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b),a.substr(b,c))},g.remove=function(a,b){var c=a.indexOf(b);return-1==c?!1:(a.splice(c,1),!0)},Math.__name__=!0;var h=function(){};e.Reflect=h,h.__name__=!0,h.field=function(a,b){try{return a[b]}catch(c){return c instanceof q&&(c=c.val),null}},h.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty;for(var d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b},h.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)},h.compare=function(a,b){return a==b?0:a>b?1:-1},h.isObject=function(a){if(null==a)return!1;var b=typeof a;return"string"==b||"object"==b&&null==a.__enum__||"function"==b&&null!=(a.__name__||a.__ename__)};var i=function(){};e.Std=i,i.__name__=!0,i.string=function(a){return r.__string_rec(a,"")};var j=function(){this.b=""};e.StringBuf=j,j.__name__=!0,j.prototype={add:function(a){this.b+=i.string(a)},__class__:j};var k=function(){};e.StringTools=k,k.__name__=!0,k.urlEncode=function(a){return encodeURIComponent(a)},k.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))},k.startsWith=function(a,b){return a.length>=b.length&&g.substr(a,0,b.length)==b},k.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c&&g.substr(a,d-c,c)==b},k.replace=function(a,b,c){return a.split(b).join(c)},k.hex=function(a,b){var c="",d="0123456789ABCDEF";do c=d.charAt(15&a)+c,a>>>=4;while(a>0);if(null!=b)for(;c.length<b;)c="0"+c;return c};var l=function(){};e.Type=l,l.__name__=!0,l.resolveClass=function(a){var b=e[a];return null!=b&&b.__name__?b:null};var m={};e["_UInt.UInt_Impl_"]=m,m.__name__=!0,m.gt=function(a,b){var c=0>a,d=0>b;return c!=d?c:a>b},m.toFloat=function(a){var b=a;return 0>b?4294967296+b:b+0};var n=function(){};e["haxe.IMap"]=n,n.__name__=!0;var o=function(){this.h={}};e["haxe.ds.IntMap"]=o,o.__name__=!0,o.__interfaces__=[n],o.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},remove:function(a){return this.h.hasOwnProperty(a)?(delete this.h[a],!0):!1},__class__:o};var p=function(){this.h={}};e["haxe.ds.StringMap"]=p,p.__name__=!0,p.__interfaces__=[n],p.prototype={set:function(a,b){null!=va[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=va[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=va[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={}),this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},__class__:p};var q=function(a){Error.call(this),this.val=a,this.message=a+"",Error.captureStackTrace&&Error.captureStackTrace(this,q)};e["js._Boot.HaxeError"]=q,q.__name__=!0,q.__super__=Error,q.prototype=c(Error.prototype,{__class__:q});var r=function(){};e["js.Boot"]=r,r.__name__=!0,r.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;var c=r.__nativeClassName(a);return null!=c?r.__resolveNativeClass(c):null},r.__string_rec=function(a,b){if(null==a)return"null";if(b.length>=5)return"<...>";var c=typeof a;switch("function"==c&&(a.__name__||a.__ename__)&&(c="object"),c){case"object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];var d=a[0]+"(";b+="	";for(var e=2,f=a.length;f>e;){var g=e++;d+=2!=g?","+r.__string_rec(a[g],b):r.__string_rec(a[g],b)}return d+")"}var h=a.length,i="[";b+="	";for(var j=0;h>j;){var k=j++;i+=(k>0?",":"")+r.__string_rec(a[k],b)}return i+="]"}var l;try{l=a.toString}catch(m){return m instanceof q&&(m=m.val),"???"}if(null!=l&&l!=Object.toString&&"function"==typeof l){var n=""+a;if("[object Object]"!=n)return n}var o=null,p="{\n";b+="	";var s=null!=a.hasOwnProperty;for(var o in a)(!s||a.hasOwnProperty(o))&&"prototype"!=o&&"__class__"!=o&&"__super__"!=o&&"__interfaces__"!=o&&"__properties__"!=o&&(2!=p.length&&(p+=", \n"),p+=b+o+" : "+r.__string_rec(a[o],b));return b=b.substring(1),p+="\n"+b+"}";case"function":return"<function>";case"string":return a;default:return a+""}},r.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;e>d;){var f=d++,g=c[f];if(g==b||r.__interfLoop(g,b))return!0}return r.__interfLoop(a.__super__,b)},r.__instanceof=function(a,b){if(null==b)return!1;switch(b){case pa:return(0|a)===a;case ra:return"number"==typeof a;case sa:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case qa:return!0;default:if(null==a)return!1;if("function"==typeof b){if(a instanceof b)return!0;if(r.__interfLoop(r.getClass(a),b))return!0}else if("object"==typeof b&&r.__isNativeObj(b)&&a instanceof b)return!0;return b==ta&&null!=a.__name__?!0:b==ua&&null!=a.__ename__?!0:a.__enum__==b}},r.__cast=function(a,b){if(r.__instanceof(a,b))return a;throw new q("Cannot cast "+i.string(a)+" to "+i.string(b))},r.__nativeClassName=function(a){var b=r.__toStr.call(a).slice(8,-1);return"Object"==b||"Function"==b||"Math"==b||"JSON"==b?null:b},r.__isNativeObj=function(a){return null!=r.__nativeClassName(a)},r.__resolveNativeClass=function(a){return b[a]};var s=function(){};e["js.Browser"]=s,s.__name__=!0,s.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw new q("Unable to create XMLHttpRequest object.")};var t=function(){};e["zentrick.player.dom.EventTarget"]=t,t.__name__=!0,t.prototype={__class__:t};var u=function(){this.clearEventListeners()};e["zentrick.player.dom.EventTargetImpl"]=u,u.__name__=!0,u.__interfaces__=[t],u.prototype={clearEventListeners:function(){this.captureListeners=new p,this.nonCaptureListeners=new p},addEventListener:function(a,b,c){null==c&&(c=!1);var d;d=c?this.captureListeners:this.nonCaptureListeners,(null!=va[a]?d.existsReserved(a):d.h.hasOwnProperty(a))||d.set(a,[]);var e;e=null!=va[a]?d.getReserved(a):d.h[a],e.indexOf(b)<0&&e.push(b)},removeEventListener:function(a,b,c){null==c&&(c=!1);var d;if(d=c?this.captureListeners:this.nonCaptureListeners,null!=va[a]?d.existsReserved(a):d.h.hasOwnProperty(a)){var e;e=null!=va[a]?d.getReserved(a):d.h[a];var f=b;g.remove(e,f)}},dispatchEvent:function(a){if(null==a.type||""==a.type)throw new q(new Q);if(this.nonCaptureListeners.exists(a.type)){a.target=this,a.currentTarget=this,a.eventPhase=2,a.timeStamp=new Date;var b,c=this.nonCaptureListeners.get(a.type);b=c.slice();for(var d=0;d<b.length;){var e=b[d];++d;try{e(a)}catch(f){f instanceof q&&(f=f.val);var g="RuntimeError while dispatching '"+a.type+"'";throw new Z(g,f)}}}return!0},__class__:u};var v=a.zentrick.Player=function(a,b,c){var e=this;u.call(this);var f;if(f="string"==typeof a?window.document.getElementById(a):a,null==f||null==f.ownerDocument)throw new Z("Invalid container");if("iframe"==f.localName)this.iframe=f;else{null==c&&(c={}),c.publication=b,c.enablejsapi="1";var j;if(j=Object.prototype.hasOwnProperty.call(f.ownerDocument,"location")?f.ownerDocument:window,c.origin=j.location.host,("string"!=typeof c.wmode||"direct"==c.wmode)&&window.navigator.userAgent.indexOf(" Gecko/")>0){c.wmode="opaque"}var l,m=!!c.friendly;l=null!=c.width?c.width:"100%";var n;if(n=null!=c.height?c.height:"100%","object"==typeof c.parameters){for(var o=0,p=h.fields(c.parameters);o<p.length;){var q=p[o];if(++o,!Object.prototype.hasOwnProperty.call(c,q)){var r=h.field(c.parameters,q);c[q]=r}}delete c.parameters}for(var s,t="/player.js",v=window.document.getElementsByTagName("script"),w=0;w<v.length&&(!v[w].src||!k.endsWith(v[w].src,t));)++w;if(w==v.length)throw new Z("Failed to determine base URI");var y=v[w].src;s=g.substr(y,0,y.length-t.length);var z=null;if(m);else{var A;if(null!=c.hostedurl){var B=c.hostedurl;delete c.hostedurl,A=B}else{var C;C=null!=c.ovp?c.ovp:"loader",A=s+"/"+C+".html"}z=A+(A.indexOf("#")<0?"#":"&")+na.toQueryString(c)}if(this.iframe=E.createIframe(z),this.iframe.setAttribute("allowfullscreen","true"),this.iframe.setAttribute("style","margin:0;padding:0;border:0;background:#000;display:block;width:"+l+";height:"+n),f.parentNode.replaceChild(this.iframe,f),m){var D=this.iframe.contentDocument;D.open(),D.write(function(a){var b,d=c,e="loader.js",f="</head>",g=function(){var a,b=h.fields(d);return a=b.map(function(a){var b=h.field(d,a);return'<meta name="'+na.encodeEntities("zntr:"+a)+'" content="'+na.encodeEntities(""+i.string(b))+'">'})}(a).join(""),j='<base href="https://watch.zentrick.com/">',l='<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,minimal-ui"><title>Zentrick Interactive Video</title></head><body style="background:#000"><script src="loader.js" async defer="defer"></script></body></html>';return b=k.replace(k.replace(l,e,s+"/"+e),f,g+j+f)}(this)),D.close()}}this.comm=new x("*",{window:this.iframe.contentWindow,enablejsapi:!0}),E.addEventListener(this.iframe,"load",function(){var a=e.comm;a.targetWindow=e.iframe.contentWindow}),this.comm.expose("status",d(this,this.onStatus)),this.comm.expose("console",d(this,this.onConsole)),this.comm.expose("error",d(this,this.onError)),this.comm.expose("message",d(this,this.onMessage)),this.comm.expose("openWindow",d(this,this.onOpenWindow))};e["zentrick.Player"]=v,v.__name__=!0,v.main=function(){var a,b=window;a=h.field(b,"onZentrickPlayerAPIReady"),null!=a&&a()},v.__super__=u,v.prototype=c(u.prototype,{getIframe:function(){return this.iframe},onStatus:function(a,b,c,d){if(c)this.state=b;else{null==!this.state&&(this.state={});for(var e=0,f=h.fields(b);e<f.length;){var g=f[e];++e;var i=h.field(b,g);this.state[g]=i}}if(null!=d)for(var j=0;j<d.length;){var k=d[j];++j,this.fireEvent(k.type)}},onConsole:function(a,b,c){var d=new S;d.initLogEvent("log",!1,!1,b,c),this.dispatchEvent(d)},onError:function(a,b,c,d){var e=new P;e.initErrorEvent("error",!1,!1,b,c,d),this.dispatchEvent(e)},onMessage:function(a,b){var c=new T;c.initMessageEvent("message",!1,!1,b),this.dispatchEvent(c)},onOpenWindow:function(a,b,c,d){var e=new T,f={sender:"PlayerControlMessage",type:"openWindow",data:{url:b,windowName:c,features:d}};e.initMessageEvent("message",!1,!1,f),this.dispatchEvent(e)},fireEvent:function(a){var b=new N;b.initEvent(a,!1,!1),this.dispatchEvent(b)},experience:function(a){return this.comm.send("experience",[a]),d(this,this.experience)},postMessage:function(a){this.comm.send("message",[a])},__class__:v});var w=function(){};e["zentrick.comm.IComm"]=w,w.__name__=!0,w.prototype={__class__:w};var x=function(a,b){null==a&&(a="*"),null==b&&(b={}),this.enablejsapi=b.enablejsapi,this.remoteOrigin=a,this.exposed={},this.enablejsapi&&(this.targetWindow=b.window,E.addEventListener(window,"message",d(this,this.onMessage)))};e["zentrick.comm.PostMessage"]=x,x.__name__=!0,x.__interfaces__=[w],x.prototype={onMessage:function(a){if(a.source==this.targetWindow&&("*"==this.remoteOrigin||a.origin==this.remoteOrigin)){var b,c=a.data;if(b=JSON.parse(c),null!=b&&null!=b.name){var d=this.exposed[b.name];null!=d&&this.callEventCallback(d,r.__cast(b.value,Array))}else;}},expose:function(a,b){this.exposed[a]=b},send:function(a,b){if(this.enablejsapi){var c,d={name:a,timestamp:(new Date).getTime(),value:b},e=null;c=JSON.stringify(d,null,e),this.targetWindow.postMessage(c,this.remoteOrigin)}},callEventCallback:function(a,b){b=null==b?[]:b.slice(0),b.unshift(this);try{a.apply(null,b)}catch(c){throw c instanceof q&&(c=c.val),new Z("RuntimeError while handling incoming message",c)}},__class__:x};var y=function(){};e["zentrick.player.IBandwidthEstimator"]=y,y.__name__=!0,y.__interfaces__=[t];var z=function(){};e["zentrick.utils.Singleton"]=z,z.__name__=!0;var A=function(){u.call(this),this.lastSampleTime=(new Date).getTime()};e["zentrick.player.BandwidthEstimator"]=A,A.__name__=!0,A.__interfaces__=[y,z],A.get_instance=function(){return null==A.instance?A.instance=new A:A.instance},A.__super__=u,A.prototype=c(u.prototype,{getBandwidth:function(){if(!E.isMobileDevice())return 8388608;var a,b=E.getVendorPrefixed(window.navigator,"connection");return a=null!=b?b.value.type:null,function(){for(var b,c=A.FAST_MOBILE_CONNECTION_TYPES,d=!1,e=0,f=c.length;f>e;){var g=e++;if(c[g]==a){d=!0;break}}return b=d}(this)?4194304:838860.8},getDataAge:function(){return((new Date).getTime()-this.lastSampleTime)/1e3},sample:function(){this.dispatchEvent(new O),this.lastSampleTime=(new Date).getTime()},supportsCaching:function(){return!1},__class__:A});var B=function(){};e["zentrick.player.BlueprintManager"]=B,B.__name__=!0,B.loadBlueprintPublicationData=function(a){if($.blueprintExperience.modules=B.mergeArrays(a.modules,$.blueprintExperience.modules,B.mergeModuleConfigs),null!=a.blueprint){a.bluepint;$.modules.loadBlueprintPackage(a.blueprint)}else{$.blueprintExperience;F.setExperience($.blueprintExperience)}},B.mergeModuleConfigs=function(a,b){null!=b.config&&null!=b.config.components&&(null==a.config&&(a.config={}),null==a.config.components?a.config.components=b.config.components:a.config.components=B.mergeArrays(a.config.components,b.config.components,B.mergeObjects))},B.mergeObjects=function(a,b){for(var c=0,d=h.fields(b);c<d.length;){var e=d[c];++c;var f=h.field(a,e),g=h.field(b,e);f instanceof Array&&null==f.__enum__&&g instanceof Array&&null==g.__enum__&&(g=B.mergeArrays(f,g,B.mergeObjects)),a[e]=g}},B.mergeArrays=function(a,b,c){for(var d={},e=[],f=0;f<a.length;){var g=a[f];++f;var h,i=g.id;h=function(){for(var a,c=0;c<b.length&&b[c].id!=i;)++c;return a=c<b.length?b[c]:null}(this),null==h?e.push(g):h._deleted||(null!=c?(c(g,h),e.push(g)):e.push(h)),d[i]=null}for(var j=0;j<b.length;){var k=b[j];++j,function(){var a,b=k.id;return a=Object.prototype.hasOwnProperty.call(d,b)}(this)||e.push(k)}return e};var C=function(){};e["zentrick.player.ExceptionManager"]=C,C.__name__=!0;var D=function(){};e["zentrick.player.ExperienceManager"]=D,D.__name__=!0,D.isWaitingToLoadExperience=function(){return!D.canLoadExperience},D.loadExperiencePublicationData=function(a){var b=a.experience;null!=b?(b.version=a.experienceVersion,D.pendingExperience={definition:b}):D.pendingExperience={id:a.experienceId,version:a.experienceVersion},$.plan=a.plan,D.canLoadExperience&&D.performExperienceLoad()},D.performExperienceLoad=function(){if(!Object.prototype.hasOwnProperty.call(D.pendingExperience,"definition")){D.pendingExperience.id,D.pendingExperience.version;throw new Z("Not supported")}var a=D.pendingExperience.definition.blueprint;if(null!=a){$.blueprintExperience=D.pendingExperience.definition,$.modules.loadBlueprintPackage(a)}else{F.setExperience(D.pendingExperience.definition)}D.pendingExperience=null};var E=function(){};e["zentrick.utils.platform.JS"]=E,E.__name__=!0,E.onWindowResize=function(){var a=window.document.getElementById("playerContainer").parentElement;G.setStageSize(a.clientWidth,a.clientHeight)},E.createScript=function(a,b,c,d,e){null==d&&(d=!1),null==c&&(c=!1),null==b&&(b=!1);var f=window.document.createElement("script");return f.src=a,f.type="text/javascript",b&&(f.async=!0),c&&(f.defer=!0),d&&(f.crossOrigin="anonymous"),null!=e&&(f.onreadystatechange=E.scriptCallback,f.onload=E.scriptCallback,f.cb=e),f},E.createCSSLink=function(a){var b=window.document.createElement("link");b.type="text/css",b.rel="stylesheet",b.href=a,window.document.getElementsByTagName("head")[0].appendChild(b)},E.createStyleNode=function(a){var b=window.document.createElement("style");b.appendChild(window.document.createTextNode(a)),window.document.getElementsByTagName("head")[0].appendChild(b)},E.insertScript=function(a){window.document.getElementsByTagName("head")[0].appendChild(a)},E.addScriptUrl=function(a,b,c,d,e){null==d&&(d=!1),null==c&&(c=!1),null==b&&(b=!1);var f=E.createScript(a,b,c,d,e);return E.insertScript(f),f},E.scriptCallback=function(){var a=this,b=a.readyState;(null==b||"loaded"==b||"complete"==b)&&(a.cb(),delete a.onreadystatechange,delete a.onload,delete a.cb)},E.createIframe=function(a){var b=window.document.createElement("iframe");return null!=a&&b.setAttribute("src",a),b.setAttribute("frameborder","0"),b.setAttribute("allowtransparency","true"),b},E.addEventListener=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent("on"+b,c)},E.getVendorPrefixed=function(a,b){var c=h.field(a,b);if(void 0!==c)return{name:b,prefix:null,value:c};for(var d=b.charAt(0).toUpperCase()+b.substring(1),e=0,f=E.vendorPrefixes;e<f.length;){var g=f[e];++e;var i=g+d;if(c=h.field(a,i),void 0!==c)return{name:i,prefix:g,value:c}}return null},E.isMobileDevice=function(){return new f("\\b([Mm]obile|Android)\\b","").match(window.navigator.userAgent)},E.getIOSVersion=function(){var a=new f(" OS ([1-9][0-9]*)_([0-9]+)(?:_([0-9]+))? like Mac OS X[;)]","");if(a.match(window.navigator.userAgent)){var b,c=a.matched(1);b=parseInt(c,10);var d,e=a.matched(2);return d=parseInt(e,10),b+d/1e3}return-1},E.isIOS=function(){return E.getIOSVersion()>0},E.isIPhoneOrIPod=function(){return new f("\\((iPhone|iPod)\\b","").match(window.navigator.userAgent)},E.isWindowsPhone8=function(){return new f("; IEMobile/(9|10)\\.","").match(window.navigator.userAgent)},E.getRenderingEngineInfo=function(){var a=new f("\\) (AppleWebKit|Gecko|Trident)/([0-9.]+)","");return a.match(window.navigator.userAgent)?{name:a.matched(1),version:a.matched(2)}:null};var F=function(){};e["zentrick.player.Main"]=F,F.__name__=!0,F.main=function(){F.playerStartTime=(new Date).getTime(),window.onerror=function(a,b,c,d,e){var f;f=e&&e.constructor&&e.constructor.name?e.constructor.name:"exception";var g;g="Uncaught "+f+(null!=a&&a.length>0?": "+i.string(a):"");var j={jsMeta:{url:b,line:c}};if(C.handlingExceptions>=3);else{++C.handlingExceptions,null==j&&(j={});var k;if(k=null!=j.data?j.data:{},null!=e){var l;l="string"==typeof e?e:h.field(e,"message"),null!=l&&(g=null==g?l:g+": "+l)}else null==g&&(g="Unknown exception");if(Object.prototype.hasOwnProperty.call(C.seenExceptions,g))--C.handlingExceptions;else{C.seenExceptions[g]=!0;var m=[];j.noPost||F.comm.send("error",[g,k,m]),--C.handlingExceptions}}return!1},F.init()},F.init=function(){F.featureAssets={},la.init();var a,b=window.location.hash;a=g.substr(b,1,null);for(var c,d={},e="zntr:",f=0,i=window.document.getElementsByTagName("meta");f<i.length;){var j=i[f];++f;var l=h.field(j,"name"),m=h.field(j,"content");if(null!=l&&k.startsWith(l,e)){var n=g.substr(l,e.length,null);d[n]=m}}c=d;var o,p=na.toQueryString(c);o=a+(a.length>0&&p.length>0?"&":"")+p;var q=null;if(null==o||0==o.length){J.current.queryString=""}else{J.current.queryString=o;q=na.parseQueryString(o)}J.loadObject(q),F.comm=new x("*",{window:window.parent,enablejsapi:function(){var a,b=h.field(K.current.contents,"enablejsapi");return a=!!b}(this)}),F.comm.send("status",[{},!0,[{type:"loading"}]]),function(){var a,b=h.field(K.current.contents,"friendly");return a=!!b}(this)&&$.dispatchCustomEvent("zentrickstatus",{status:"loading"}),$.modules=new H,$.video=M.get_instance();var r=$.video;r.providers=[new ga,new fa];for(var s=0,t=r.providers;s<t.length;){var u=t[s];++s,u.provision()}if($.root=$.window.document.querySelector("svg"),Y.initDOM(),window.addEventListener("resize",E.onWindowResize),E.onWindowResize(null),function(){var a,b=h.field(K.current.contents,"autoplay");return a=!!b}(this)){$.video.setAutoPlay(!0)}F.comm.expose("message",function(a,b){var c=window.document.createEvent("Events");c.initEvent("message",!1,!1),c.data=b,window.dispatchEvent(c)}),F.checkLoadPublication();var v=null==h.field(K.current.contents,"publication");v&&(F.comm.send("status",[{},!0,[{type:"ready"}]]),function(){var a,b=h.field(K.current.contents,"friendly");return a=!!b}(this)&&$.dispatchCustomEvent("zentrickstatus",{status:"ready"}))},F.checkLoadPublication=function(){var a=h.field(K.current.contents,"publication");if(null!=a){var b=$.modules,c=h.field(K.current.contents,"experienceversion");b.packagesLoading++,b.downloadAsset("https://watch.zentrick.com/"+a+(c>0?"/"+c:"")+"/package.js","zentrick.player.modules.p"+a,!1,F.loadPublicationFallback)}else;},F.loadPublicationFallback=function(a){if(null!=a||!D.isWaitingToLoadExperience()&&null==$.experience&&null==$.blueprintExperience){var b,c=h.field(K.current.contents,"publication"),d=h.field(K.current.contents,"experienceversion");b="https://watch.zentrick.com/"+c+(d>0?"/"+d:"")+"/meta";ma.request("GET",b,null,function(a,b){null==a&&D.loadExperiencePublicationData(JSON.parse(b))})}},F.setExperience=function(a){Y.init(a),F.comm.send("status",[{},!0,[{type:"ready"}]]),function(){var a,b=h.field(K.current.contents,"friendly");return a=!!b}(this)&&$.dispatchCustomEvent("zentrickstatus",{status:"ready"})},F.exception=function(a,b,c){var d=a,e=b,f=c;if(C.handlingExceptions>=3);else{++C.handlingExceptions,null==f&&(f={});var g;if(g=null!=f.data?f.data:{},null!=e){var i;i="string"==typeof e?e:h.field(e,"message"),null!=i&&(d=null==d?i:d+": "+i)}else null==d&&(d="Unknown exception");if(Object.prototype.hasOwnProperty.call(C.seenExceptions,d))--C.handlingExceptions;else{C.seenExceptions[d]=!0;var j=[];f.noPost||F.comm.send("error",[d,g,j]),--C.handlingExceptions}}};var G=function(){u.call(this)};e["zentrick.player.Metrics"]=G,G.__name__=!0,G.__interfaces__=[z],G.addStageResizeListener=function(a){G.get_instance().addEventListener("stageresize",a)},G.removeStageResizeListener=function(a){G.get_instance().removeEventListener("stageresize",a)},G.setStageSize=function(a,b){var c=G.stageBox;if(G.stageBox={x:0,y:0,width:a,height:b},null==c||c.width!=G.stageBox.width||c.height!=G.stageBox.height){G.fireEvent("stageresize",G.stageBox)}},G.addVideoResizeListener=function(a){G.get_instance().addEventListener("videoresize",a)},G.removeVideoResizeListener=function(a){G.get_instance().removeEventListener("videoresize",a)},G.setSourceVideoSize=function(a,b,c,d){if(null==c&&(c=!1),isNaN(a)||0>=a||isNaN(b)||0>=b){a=G.stageBox.width,b=G.stageBox.height}G.sourceVideoWidth=a,G.sourceVideoHeight=b,G.allowVideoDistortion=c,G.videoInsets=d;var e,f,g,h=G.sourceVideoWidth,i=G.sourceVideoHeight,j=G.videoInsets;null!=G.videoInsets?(f=j.left+j.right,g=j.top+j.bottom):(f=0,g=0);var k,l,m,n=f>0||g>0,o=G.stageBox.width-f,p=G.stageBox.height-g,q=G.allowVideoDistortion&&!n;0>=h||0>=i?(l=o,m=p):(l=h,m=i);var r;r=G.aspectRatio>0?G.aspectRatio:l/m,o/p>r?(m=p,l=m*r,q&&1.05*l>=o&&(l=o)):(l=o,m=l/r,q&&1.05*m>=p&&(m=p));var s=(o-l)/2,t=(p-m)/2;k={x:s,y:t,width:l,height:m};var u;n?(u=na.copy(k),k.width+=f,k.height+=g,u.x+=j.left,u.y+=j.top):u=null,e={reported:k,actual:u};var v=e.reported,w=e.actual;if(function(){var a,b=null;return a=JSON.stringify(G.videoBox,null,b)}(this)!=function(){var a,b=null;return a=JSON.stringify(v,null,b)}(this)||function(){var a,b=null;return a=JSON.stringify(G.actualVideoBox,null,b)}(this)!=function(){var a,b=null;return a=JSON.stringify(w,null,b)}(this)){if(G.videoBox=v,G.actualVideoBox=w,G.videoBox.width>0&&G.videoBox.height>0&&G.sourceVideoWidth>0&&G.sourceVideoHeight>0){var x=G.videoBox.width/G.videoBox.height,y=G.sourceVideoWidth/G.sourceVideoHeight;G.aspectRatioCorrection=x/y}else G.aspectRatioCorrection=1;G.fireEvent("videoresize",G.videoBox)}},G.fireEvent=function(a,b){var c=new U;c.initMetricsEvent(a,!1,!1,b),G.get_instance().dispatchEvent(c)},G.get_instance=function(){return null==G.instance?G.instance=new G:G.instance},G.getInstance=function(){return G.get_instance()},G.__super__=u,G.prototype=c(u.prototype,{__class__:G});var H=function(){u.call(this),this.loaded={},this.loading={},this.requireCallbacks={},this.packagesLoading=0};e["zentrick.player.ModuleManager"]=H,H.__name__=!0,H.isPresent=function(a,b){var c=a[b.id];return null!=c&&("*"==b.version||c.hasOwnProperty(b.version))},H.resolve=function(a,b){var c=a[b.id];if(null==c)return null;var d;if("*"==b.version){var e=h.fields(c);d=e.length>0?e[0]:null}else d=b.version;return null!=d?c[d]:null},H.store=function(a,b,c){null==a[b.id]&&(a[b.id]={});var d=a[b.id],e=d[b.version];if(null==e)d[b.version]=c;else for(var f=d[b.version],g=0,i=h.fields(c);g<i.length;){var j=i[g];++g,f[j]=c[j]}},H.clear=function(a,b){if(null!=a[b.id]){var c=a[b.id],d=b.version;if(delete c[d],0==h.fields(c).length){var e=b.id;delete a[e]}}},H.getLoadFunction=function(a){var b=l.resolveClass(a);return null!=b?b.load:null},H.getModuleConfig=function(a){for(var b=$.experience.modules,c=0;c<b.length;){var d=b[c];if(++c,d.id==a.id&&d.version==a.version)return d.config}return null},H.__super__=u,H.prototype=c(u.prototype,{load:function(a){if(!H.isPresent(this.loaded,a)){if(null!=a.load){var b=H.resolve(this.loading,a);if(null!=b){if(null!=b.load)return;delete b.notStarted}return H.store(this.loading,a,a),void this.checkLoadingDone(a)}if(H.isPresent(this.loading,a)){var c=H.resolve(this.loading,a);if(0==this.packagesLoading&&null!=c&&c.notStarted){delete c.notStarted;var d=a,e=this;this.downloadAsset(function(){var a,b="https://d3t33l9chxze0j.cloudfront.net/"+i.string(d.id)+"/"+i.string(d.version)+"/module.js";return a=b}(this),"zentrick.player.modules.m"+i.string(d.id.replace("-","_"))+".v"+i.string(d.version),!0,function(a){null!=a&&e.callRequireCallbacks(d,a)})}}else{this.dispatchModuleEvent("loadstart",a),H.store(this.loading,a,null);var f=H.getLoadFunction("zentrick.player.modules.m"+i.string(a.id.replace("-","_"))+".v"+i.string(a.version));if(null!=f){var g=function(){f()};$.window.requestAnimationFrame(function(){g()})}else if(0==this.packagesLoading){var h=a,j=this;this.downloadAsset(function(){var a,b="https://d3t33l9chxze0j.cloudfront.net/"+i.string(h.id)+"/"+i.string(h.version)+"/module.js";return a=b}(this),"zentrick.player.modules.m"+i.string(h.id.replace("-","_"))+".v"+i.string(h.version),!0,function(a){null!=a&&j.callRequireCallbacks(h,a)})}else H.store(this.loading,a,{notStarted:!0})}}},loadBlueprintPackage:function(a,b){this.packagesLoading++,this.downloadAsset("https://watch.zentrick.com/bp/"+a+"/package.js","zentrick.player.modules.p"+a,!1,b)},get:function(a){if(H.isPresent(this.loaded,a)){var b=H.resolve(this.loaded,a);return null!=b?b:{}}return null},isLoaded:function(a){return H.isPresent(this.loaded,a)},isLoading:function(a){return H.isPresent(this.loading,a)},require:function(a,b){if("string"==typeof a&&(a={id:a,version:"*"}),null!=b&&b.length<2){var c=b,d=this;b=function(a,b){if(null==a)c.call(d,b);else;}}if(H.isPresent(this.loaded,a)){null!=b&&b.call(this,null,this.get(a))}else{null!=b&&this.addRequireCallback(a,b),"*"!=a.version&&this.load(a)}},checkDependencies:function(a){var b=h.fields(a.dependencies);if(null==b)return null;for(var c=!0,d={},e=0;e<b.length;){var f=b[e];++e;var g=a.dependencies[f];H.isPresent(this.loaded,g)||(H.isPresent(this.loading,g)||this.load(g),c=!1),d[f]=H.resolve(this.loaded,g)}return c?d:null},checkLoadingDone:function(a){var b=this;if(null==$.experience)return!1;var c=H.resolve(this.loading,a);if(null==c)return!1;var e=this.checkDependencies(c);if(null==e)return!1;if(null==c.load)return!1;var f,g=H.getModuleConfig(a),j={definition:c,config:g,dependencies:e,modules:this};try{f=c.load.call($.window,j)}catch(k){k instanceof q&&(k=k.val);var l="Failed to load "+i.string(c.id)+":"+i.string(c.version),m=l,n=k,o=null;if(C.handlingExceptions>=3);else{++C.handlingExceptions,null==o&&(o={});var p;if(p=null!=o.data?o.data:{},null!=n){var r;r="string"==typeof n?n:h.field(n,"message"),null!=r&&(m=null==m?r:m+": "+r)}else null==m&&(m="Unknown exception");if(Object.prototype.hasOwnProperty.call(C.seenExceptions,m))--C.handlingExceptions;else{C.seenExceptions[m]=!0;var s=[];o.noPost||F.comm.send("error",[m,p,s]),--C.handlingExceptions}}return this.callRequireCallbacks(a,new Z(l,k)),!1}H.store(this.loaded,a,f),H.clear(this.loading,a);var t=function(){b.dispatchModuleEvent("loaded",a),b.callRequireCallbacks(a,null),Y.moduleLoaded(a)};$.window.requestAnimationFrame(function(){t()});var u=d(this,this.checkLoadingModules);return $.window.requestAnimationFrame(function(){u()}),!0},addRequireCallback:function(a,b){this.requireCallbacks[a.id]||(this.requireCallbacks[a.id]={});var c=this.requireCallbacks[a.id];c[a.version]||(c[a.version]=[]);var d=c[a.version];d.push(b)},callRequireCallbacks:function(a,b){var c=this.requireCallbacks[a.id];return null==c?null:(this.callRequireCallbacks0(c,{id:a.id,version:"*"},b),void("*"!=a.version&&this.callRequireCallbacks0(c,a,b)))},callRequireCallbacks0:function(a,b,c){var d=a[b.version];if(null!=d){var e;e=null==c?this.get(b):null;for(var f=0;f<d.length;){var g=d[f];++f;try{g.call(this,c,e)}catch(j){j instanceof q&&(j=j.val);var k="Error calling require callback for "+i.string(b.id)+"@"+i.string(b.version),l=null;if(C.handlingExceptions>=3);else{++C.handlingExceptions,null==l&&(l={});var m;if(m=null!=l.data?l.data:{},null!=c){var n;n="string"==typeof c?c:h.field(c,"message"),null!=n&&(k=null==k?n:k+": "+n)}else null==k&&(k="Unknown exception");if(Object.prototype.hasOwnProperty.call(C.seenExceptions,k))--C.handlingExceptions;else{C.seenExceptions[k]=!0;var o=[];l.noPost||F.comm.send("error",[k,m,o]),--C.handlingExceptions}}}}var p=b.version;delete a[p]}},flushRequireCallbacks:function(){for(var a=0,b=h.fields(this.requireCallbacks);a<b.length;){var c=b[a];++a;for(var d=this.requireCallbacks[c],e=0,f=h.fields(d);e<f.length;){var g=f[e];++e;for(var i=d[g],j=0;j<i.length;){var k=i[j];++j;var l=new Z("Not available");try{k.call(this,l,null)}catch(m){m instanceof q&&(m=m.val);var n="Error calling require callback for "+c+"@"+g,o=m,p=null;if(C.handlingExceptions>=3);else{++C.handlingExceptions,null==p&&(p={});var r;if(r=null!=p.data?p.data:{},null!=o){var s;s="string"==typeof o?o:h.field(o,"message"),null!=s&&(n=null==n?s:n+": "+s)}else null==n&&(n="Unknown exception");if(Object.prototype.hasOwnProperty.call(C.seenExceptions,n))--C.handlingExceptions;else{C.seenExceptions[n]=!0;var t=[];p.noPost||F.comm.send("error",[n,r,t]),--C.handlingExceptions}}}}}}this.requireCallbacks={}},checkLoadingModules:function(){var a=h.fields(this.loading);
if(a.length>0)for(var b=0;b<a.length;){var c=a[b];++b;for(var d=0,e=h.fields(this.loading[c]);d<e.length;){var f=e[d];if(++d,this.checkLoadingDone({id:c,version:f}))return}}},downloadAsset:function(a,b,c,d){var e=this;null==d&&(d=function(a){if(null!=a);});var f=!1,g=E.addScriptUrl(a,!0,!0,f);g.addEventListener("error",function(b){var f="Failed to download "+a;if(c){var g=f,i=b,j=null;if(C.handlingExceptions>=3);else{++C.handlingExceptions,null==j&&(j={});var k;if(k=null!=j.data?j.data:{},null!=i){var l;l="string"==typeof i?i:h.field(i,"message"),null!=l&&(g=null==g?l:g+": "+l)}else null==g&&(g="Unknown exception");if(Object.prototype.hasOwnProperty.call(C.seenExceptions,g))--C.handlingExceptions;else{C.seenExceptions[g]=!0;var m=[];j.noPost||F.comm.send("error",[g,k,m]),--C.handlingExceptions}}e.dispatchDOMEvent("error")}e.finishDownload(),d(new Z(f,b))}),g.addEventListener("load",function(){e.finishDownload(),d(null)})},finishDownload:function(){if(this.packagesLoading>0&&this.packagesLoading--,0==this.packagesLoading)for(var a=0,b=h.fields(this.loading);a<b.length;){var c=b[a];++a;for(var d=this.loading[c],e=0,f=h.fields(d);e<f.length;){var g=f[e];++e;var i=d[g];null!=i&&(i.notStarted?this.load({id:c,version:g}):this.checkDependencies(i))}}},dispatchDOMEvent:function(a){var b=new N;return b.initEvent(a,!1,!1),this.dispatchEvent(b)},dispatchModuleEvent:function(a,b){var c=new V;return c.initModuleEvent(a,!1,!1,b.id,b.version),this.dispatchEvent(c)},__class__:H});var I=function(){this.contents={}};e["zentrick.utils.SimpleStringMap"]=I,I.__name__=!0,I.prototype={__class__:I};var J=function(){I.call(this)};e["zentrick.player.Parameters"]=J,J.__name__=!0,J.loadObject=function(a){if(J.current.contents={},K.current.contents={},null!=a){for(var b=null,c=0,d=h.fields(a);c<d.length;){var e=d[c];++c;var f=h.field(a,e);if(function(){for(var a,b=J.PUBLICATION_KEYS,c=!1,d=0,f=b.length;f>d;){var g=d++;if(b[g]==e){c=!0;break}}return a=c}(this)){var g=f.indexOf("@");if(0>g){var i=f;K.current.contents.publication=i,K.current.contents.experienceversion=0}else{var j,k=f.substr(0,g),l=f.substr(g+1);j=parseInt(l,10),K.current.contents.publication=k,K.current.contents.experienceversion=j}}else{if(J.current.contents[e]=f,(null==f||0==f.length)&&na.PUBLICATION_ID_RE.match(e)&&null==b){b=e}}}if(null==h.field(K.current.contents,"publication")&&null!=b){K.current.contents.publication=b,K.current.contents.experienceversion=0,delete J.current.contents[b]}var m=h.field(J.current.contents,"_settings");if(null!=m){delete J.current.contents._settings;var n=m;if("string"==typeof n){try{var o=n;n=JSON.parse(o)}catch(p){p instanceof q&&(p=p.val);n={}}}for(var r=0,s=h.fields(n);r<s.length;){var t=s[r];++r;var u=h.field(n,t);K.current.contents[t]=u}}else{for(var v=0,w=h.fields(J.LEGACY_PARAMS);v<w.length;){var x=w[v];++v;var y=h.field(J.current.contents,x);if(null!=y){var z=h.field(J.LEGACY_PARAMS,x);K.current.contents[z]=y}}for(var A=0,B=["autoplay","bg","nothrobber","disableprotocols","doubleclick","enablejsapi","friendly","publication","runtime","session","studioversion","wmode"];A<B.length;){var C=B[A];++A;var D=h.field(J.current.contents,C);if(null!=D){K.current.contents[C]=D}}}}else;},J.__super__=I,J.prototype=c(I.prototype,{__class__:J});var K=function(){I.call(this)};e["zentrick.player.Settings"]=K,K.__name__=!0,K.__super__=I,K.prototype=c(I.prototype,{__class__:K});var L=function(a){u.call(this),this.url=a,this.state="idle"};e["zentrick.player.TrackingPixel"]=L,L.__name__=!0,L.__super__=u,L.prototype=c(u.prototype,{track:function(){if("idle"!=this.state)throw new Z("Already tracking");this._setState("loading"),L._pending.push(this),this._image=new $.window.Image,this._image.addEventListener("load",d(this,this._onLoad)),this._image.addEventListener("error",d(this,this._onError)),this._image.src=this.url,this._image.style.width="1px",this._image.style.height="1px",this._image.style.position="absolute",this._image.style.left="-10px",this._image.style.top="-10px",this._image.style.border="0",this._image.style.pointerEvents="none",$.window.document.body.appendChild(this._image)},dispose:function(){if("disposed"!=this.state){this._resolve("disposed")}},_onLoad:function(){this._resolve("loaded")},_onError:function(){this._resolve("error")},_resolve:function(a){if(null!=this._image)if(this._image.removeEventListener("load",d(this,this._onLoad)),this._image.removeEventListener("error",d(this,this._onError)),$.window.document.body.removeChild(this._image),this._image=null,this._setState(a),g.remove(L._pending,this),L._pending.length>0);else{for(var b=0,c=L._completionListeners;b<c.length;){var e=c[b];++b,e(null)}L._completionListeners.length=0}else;},_setState:function(a){this.state=a;var b=new N;b.initEvent("statechange",!1,!1),this.dispatchEvent(b)},__class__:L});var M=function(){this.QUALITY_LEVELS=null,this.QUALITY_AUTO="auto",this.QUALITY_1080P="1080p",this.QUALITY_720P="720p",this.QUALITY_480P="480p",this.QUALITY_360P="360p",this.QUALITY_240P="240p",u.call(this),this.QUALITY_LEVELS=[this.QUALITY_1080P,this.QUALITY_720P,this.QUALITY_480P,this.QUALITY_360P,this.QUALITY_240P]};e["zentrick.player.Video"]=M,M.__name__=!0,M.__interfaces__=[z],M.get_instance=function(){return null==M.instance?M.instance=new M:M.instance},M.__super__=u,M.prototype=c(u.prototype,{fireEvent:function(a){var b=new N;b.initEvent(a,!1,!1),this.dispatchEvent(b),"hosted"==h.field(K.current.contents,"runtime")&&F.comm.send("video.event."+a)},switchToStream:function(a){if(null!=a){if(this.stream!=a){null!=this.stream&&this.stream.dispose(),this.stream=a,this.stream.setEventTarget(this);var b=this.getVideoWidth();!isNaN(b)&&b>0&&(this.fireEvent("loadedmetadata"),this.fireEvent("qualitychange"));var c=this.getDuration();!isNaN(c)&&c>0&&this.fireEvent("durationchange")}}else if(null!=this.stream)this.stream.dispose(),this.stream=null;else;},intermediateMetaData:function(a){null!=a&&(null!=this.stream&&this.stream.dispose(),this.stream=new ia(a))},getVideo:function(){return null!=this.stream?this.stream.getVideo():null},setVideo:function(a){var b;b=null!=this.stream?this.stream.getCurrentTime():0,null==this.stream||this.stream.getPaused()||(this.stream.pauseVideo(),this.fireEvent("pause"));var c=0;if(null!=a){for(;c<this.providers.length&&!this.providers[c].supports(a);)++c;if(c==this.providers.length){return!1}}return null!=this.stream&&this.stream.setSuccessor(a),this.switchToStream(null),b>0&&this.fireEvent("timeupdate"),null!=a&&(this.providers[c].resolve(a,d(this,this.switchToStream),d(this,this.intermediateMetaData)),this.fireEvent("loadstart")),!0},getError:function(){return null!=this.stream?this.stream.getError():null},getReadyState:function(){return null!=this.stream?this.stream.getReadyState():0},getNetworkState:function(){return null!=this.stream?this.stream.getNetworkState():0},getSeeking:function(){return null!=this.stream&&this.stream.getSeeking()},getCurrentTime:function(){return null!=this.stream?this.stream.getCurrentTime():0},setCurrentTime:function(a,b){null==b&&(b=!1);if(null!=this.stream)this.stream.setCurrentTime(a,b);else;},getDuration:function(){return null!=this.stream?this.stream.getDuration():NaN},getPaused:function(){return null==this.stream||this.stream.getPaused()},getPlayed:function(){return null!=this.stream?this.stream.getPlayed():new ba},getBuffered:function(){return new ba},getSeekable:function(){var a=new ba;return a.add(0,this.getDuration()),a},getEnded:function(){return null!=this.stream&&this.stream.getEnded()},getAutoPlay:function(){return!1},setAutoPlay:function(){},play:function(){if(null!=this.stream&&this.getPaused()){this.stream.playVideo()}},pause:function(){null==this.stream||this.getPaused()||this.stream.pauseVideo()},getVolume:function(){return null!=this.stream?this.stream.getVolume():1},setVolume:function(a){if(null!=this.stream)this.stream.setVolume(a);else;},getMuted:function(){return null!=this.stream&&this.stream.getMuted()},setMuted:function(a){if(null!=this.stream)this.stream.setMuted(a);else;},getBandwidthEstimate:function(){return null!=this.stream?this.stream.getBandwidthEstimate():0},getCurrentSource:function(){return null!=this.stream?this.stream.getCurrentSource():null},getVideoWidth:function(){return null!=this.stream?Math.floor(this.stream.getVideoWidth()*G.aspectRatioCorrection):0},getVideoHeight:function(){return null!=this.stream?Math.floor(this.stream.getVideoHeight()):0},getLive:function(){return null!=this.stream&&this.stream.getLive()},getQualityLevel:function(){return null!=this.stream?this.stream.getQualityLevel():null},setQualityLevel:function(a){if(null!=this.stream)this.stream.setQualityLevel(a);else;},getAvailableQualityLevels:function(){return null!=this.stream?this.stream.getAvailableQualityLevels():[]},getWidth:function(){return null!=G.stageBox?G.stageBox.width:0},getHeight:function(){return null!=G.stageBox?G.stageBox.height:0},getBounds:function(){return null==G.videoBox?null:{x:G.videoBox.x,y:G.videoBox.y,width:G.videoBox.width,height:G.videoBox.height}},getQualityLevelByVideoSize:function(a,b,c){null==c&&(c=!1);for(var d,e=M.QUALITY_LEVEL_PIXEL_HEIGHTS,f=0;f<e.length&&!(b<=m.toFloat(e[f]));)++f;if(d=f<e.length?e[f]:null,!c&&null==d){var g=this.QUALITY_LEVELS;return g.length>0?g[g.length-1]:null}return null==d?null:M.PIXEL_HEIGHT_TO_QUALITY_LEVEL.get(d)},__class__:M});var N=function(){};e["zentrick.player.dom.Event"]=N,N.__name__=!0,N.prototype={stopPropagation:function(){},preventDefault:function(){},initEvent:function(a,b,c){this.type=a,this.bubbles=b,this.cancelable=c},__class__:N};var O=function(){N.call(this),this.initEvent("bandwidth",!1,!0)};e["zentrick.player.dom.BandwidthEvent"]=O,O.__name__=!0,O.__super__=N,O.prototype=c(N.prototype,{__class__:O});var P=function(){N.call(this)};e["zentrick.player.dom.ErrorEvent"]=P,P.__name__=!0,P.__super__=N,P.prototype=c(N.prototype,{initErrorEvent:function(a,b,c,d,e,f){this.initEvent(a,b,c),this.message=d,this.data=e,this.stack=f},__class__:P});var Q=function(){this.code=0};e["zentrick.player.dom.EventException"]=Q,Q.__name__=!0,Q.prototype={__class__:Q};var R=function(){u.call(this)};e["zentrick.player.dom.FileInput"]=R,R.__name__=!0,R.__super__=u,R.prototype=c(u.prototype,{open:function(a){null==a&&(a={}),this.init(),a.multiple?this.realInput.setAttribute("multiple","multiple"):this.realInput.removeAttribute("multiple");for(var b=0,c=["accept","capture"];b<c.length;){var d=c[b];++b,Object.prototype.hasOwnProperty.call(a,d)?this.realInput.setAttribute(d,a[d]):this.realInput.removeAttribute(d)}this.realInput.click()},init:function(){if(null==this.realInput){var a=window.document;this.realInput=a.createElement("input"),this.realInput.setAttribute("type","file"),this.realInput.style.setProperty("left","200%","important"),this.realInput.style.setProperty("top","200%","important"),this.realInput.addEventListener("change",d(this,this.onChange)),window.document.body.appendChild(this.realInput)}},onChange:function(a){this.files=this.realInput.files,this.fireChangeEvent(a)},fireChangeEvent:function(){var a=new N;a.initEvent("change",!1,!0),a.target=this,this.dispatchEvent(a)},__class__:R});var S=function(){N.call(this)};e["zentrick.player.dom.LogEvent"]=S,S.__name__=!0,S.__super__=N,S.prototype=c(N.prototype,{initLogEvent:function(a,b,c,d,e){this.initEvent(a,b,c),this.message=d,this.level=e},__class__:S});var T=function(){N.call(this)};e["zentrick.player.dom.MessageEvent"]=T,T.__name__=!0,T.__super__=N,T.prototype=c(N.prototype,{initMessageEvent:function(a,b,c,d){this.initEvent(a,b,c),this.data=d},__class__:T});var U=function(){N.call(this)};e["zentrick.player.dom.MetricsEvent"]=U,U.__name__=!0,U.__super__=N,U.prototype=c(N.prototype,{initMetricsEvent:function(a,b,c,d){this.initEvent(a,b,c),this.detail=d},__class__:U});var V=function(){N.call(this)};e["zentrick.player.dom.ModuleEvent"]=V,V.__name__=!0,V.__super__=N,V.prototype=c(N.prototype,{initModuleEvent:function(a,b,c,d,e){N.prototype.initEvent.call(this,a,b,c),this.moduleId=d,this.moduleVersion=e},__class__:V});var W=function(){u.call(this)};e["zentrick.player.dom.TextInput"]=W,W.__name__=!0,W.__super__=u,W.prototype=c(u.prototype,{startCapture:function(a,b,c){null==c&&(c=-1),null==b&&(b="");var d=this.keyfocusElement!=a;if(d&&this.stopCapture(),null!=a){if(this.initTextField(),c>=0&&(this.keyTextField.tabIndex=c),d&&(this.keyfocusElement=a),"function"==typeof this.keyfocusElement.getBoundingClientRect){var e=this.keyfocusElement.getBoundingClientRect();e&&(this.keyTextField.style.setProperty("top",i.string(e.top)+"px","important"),this.keyTextField.style.setProperty("left",i.string(e.left)+"px","important"))}this.keyTextField.value=b,this.setSelection(b.length),window.focus(),this.keyTextField.focus(),d&&this.dispatchEvent(new X("focus",{target:a}))}},setSelection:function(a,b){null==b&&(b=0),a>b&&(b=a),null!=this.keyTextField&&(this.keyTextField.selectionStart=a,this.keyTextField.selectionEnd=b)},getSelection:function(){return null==this.keyTextField?null:{selectionStart:this.keyTextField.selectionStart,selectionEnd:this.keyTextField.selectionEnd}},stopCapture:function(){if(null!=this.keyfocusElement){var a=this.keyfocusElement;this.keyfocusElement=null,this.dispatchEvent(new X("blur",{target:a}))}},getValue:function(){return this.initTextField(),this.keyTextField.value},setValue:function(a){this.initTextField(),this.keyTextField.value=a},initTextField:function(){if(null==this.keyTextField){var a=window.document;this.keyTextField=a.createElement("input"),this.keyTextField.setAttribute("type","text"),this.keyTextField.setAttribute("autocapitalize","off"),this.keyTextField.setAttribute("autocomplete","off"),this.keyTextField.setAttribute("autocorrect","off"),this.keyTextField.setAttribute("spellcheck","false"),this.keyTextField.addEventListener("blur",d(this,this.onKeyTextFieldFocusOut)),this.keyTextField.addEventListener("keydown",d(this,this.onKeyTextFieldKeyDown)),this.keyTextField.addEventListener("input",d(this,this.onKeyTextFieldChange)),this.keyTextField.style.setProperty("position","absolute","important"),this.keyTextField.style.setProperty("top","30px","important"),this.keyTextField.style.setProperty("width","100px","important"),this.keyTextField.style.setProperty("opacity","0","important"),this.keyTextField.style.setProperty("-webkit-transform","scale(0,0)","important"),this.keyTextField.style.setProperty("transform","scale(0,0)","important"),this.keyTextField.style.setProperty("-webkit-user-select","text"),this.keyTextField.style.setProperty("user-select","text"),window.document.body.insertBefore(this.keyTextField,window.document.body.firstChild)}},onKeyTextFieldKeyDown:function(a){var b=a.keyCode,c=a.ctrlKey,d=a.altKey,e=a.shiftKey,f={text:this.keyTextField.value,keyCode:b,target:this.keyfocusElement,ctrlKey:c,altKey:d,shiftKey:e};this.dispatchEvent(new X("keypress",f))},onKeyTextFieldChange:function(){var a={text:this.keyTextField.value,selectionStart:this.keyTextField.selectionStart,selectionEnd:this.keyTextField.selectionEnd,target:this.keyfocusElement};this.dispatchEvent(new X("change",a))},onKeyTextFieldFocusOut:function(){this.stopCapture()},__class__:W});var X=function(a,b){N.call(this),this.initEvent(a,!1,!0),this.data=b};e["zentrick.player.dom.TextInputEvent"]=X,X.__name__=!0,X.__super__=N,X.prototype=c(N.prototype,{__class__:X});var Y=function(){};e["zentrick.player.dom.ZentrickInternal"]=Y,Y.__name__=!0,Y.initDOM=function(){Y.addResizeListeners(),$.window.console={table:function(){},dir:function(){}};for(var a=0,b=["log","debug","info","warn","error"];a<b.length;){var c=[b[a]];++a;var d=[function(a){return function(b){Y.consoleCall(a[0],b)}}(c)];$.window.console[c[0]]=function(a){return function(){return a[0](Array.prototype.slice.call(arguments))}}(d)}},Y.addResizeListeners=function(){G.addStageResizeListener(Y.onStageResize),G.addVideoResizeListener(Y.onVideoResize)},Y.onStageResize=function(a){$.dispatchCustomEvent("stageresize",a.detail)},Y.onVideoResize=function(a){$.dispatchCustomEvent("videoresize",a.detail),$.dispatchCustomEvent("resize",null)},Y.consoleCall=function(a,b){var c=Y.formatArgs(b);F.comm.send("console",[c,a])},Y.formatArgs=function(a){if(0==a.length)return"";if(1==a.length)return a[0];if("string"==typeof a[0]&&a[0].indexOf("%")>=0){var b=a.shift();return Y.sprintf(b,a)}return a.join(" ")},Y.sprintf=function(a,b){for(var c=new f("(^|[^%])%([difs])","g"),d=0,e=c.map(a,function(){var a=c.matched(1);if(d<b.length){var e=null,f=c.matched(2);switch(f){case"d":case"i":var g=b[d];e=parseInt(g,10);break;case"f":var h=b[d];e=parseFloat(h);break;case"s":e=""+i.string(b[d])}null!=e&&(a+=i.string(e))}else a+="%"+c.matched(2);return++d,a});d<b.length;)e=(0==e.length?"":" ")+i.string(b[d]),++d;return e},Y.init=function(a){$.experience=a,null==$.experience.modules&&($.experience.modules=[]);var b=!1,c=function(){b=!0;var a=$.experience.modules;if(Y.loadingModules={},Y.loadingModuleCnt=0,$.experience.modules.length>0)for(var c=0;c<a.length;){var d=a[c];++c;var e,f=d.id;e=f+"@"+i.string(d.version),Y.loadingModules[e]=!0,++Y.loadingModuleCnt,$.modules.load(d)}else Y.initialModuleLoadComplete();$.modules.checkLoadingModules()};Y.maybeLoadVideo()||$.video.setVideo(null),c()},Y.moduleLoaded=function(a){var b,c=a.id;b=c+"@"+i.string(a.version),Y.loadingModules[b]&&(delete Y.loadingModules[b],--Y.loadingModuleCnt,0==Y.loadingModuleCnt&&Y.initialModuleLoadComplete())},Y.initialModuleLoadComplete=function(){$.modules.flushRequireCallbacks()},Y.maybeLoadVideo=function(){if(null==$.video.getVideo()&&null!=$.experience&&null!=$.experience.video){if(Y.trySetVideo($.experience.video))return!0;if($.experience.video.options&&$.experience.video.options.alternatives)return Y.trySetVideos($.experience.video.options.alternatives)}return!1},Y.trySetVideos=function(a){for(var b=0;b<a.length;){var c=a[b];if(++b,Y.trySetVideo(c))return!0}return!1},Y.trySetVideo=function(a){var b=!1;try{b=$.video.setVideo(a)}catch(c){c instanceof q&&(c=c.val);var d="RuntimeError while loading video",e=c,f=null;if(C.handlingExceptions>=3);else{++C.handlingExceptions,null==f&&(f={});var g;if(g=null!=f.data?f.data:{},null!=e){var i;i="string"==typeof e?e:h.field(e,"message"),null!=i&&(d=null==d?i:d+": "+i)}else null==d&&(d="Unknown exception");if(Object.prototype.hasOwnProperty.call(C.seenExceptions,d))--C.handlingExceptions;else{C.seenExceptions[d]=!0;var j=[];f.noPost||F.comm.send("error",[d,g,j]),--C.handlingExceptions}}}return b};var Z=function(a,b){Error.call(this,a),this.name="RuntimeError",this.message=a,this.stack=Error.call(this).stack,this.cause=b};e["zentrick.utils.RuntimeError"]=Z,Z.__name__=!0,Z.__super__=Error,Z.prototype=c(Error.prototype,{__class__:Z});var $=function(){};e["zentrick.player.dom.Zentrick"]=$,$.__name__=!0,$.getPlayerVersion=function(){return"2.5.90"},$.getPlatformName=function(){return"html5"},$.getMode=function(){return"player"},$.mode=function(){return"player"},$.postMessage=function(a){F.comm.send("message",[a])},$.getPublicationID=function(){return h.field(K.current.contents,"publication")},$.getPublishId=function(){return $.getPublicationID()},$.getEmbedUrl=function(){var a=h.field(K.current.contents,"publication"),b=h.field(K.current.contents,"experienceversion");return null==a?null:"https://watch.zentrick.com/"+a+"/"+(b>0?b+"/":"")},$.getEmbedCode=function(){var a,b=h.field(K.current.contents,"publication"),c=h.field(K.current.contents,"experienceversion");return a=null==b?null:"https://watch.zentrick.com/"+b+"/"+(c>0?c+"/":""),null==a?null:'<iframe src="'+a+'" width="640" height="360" frameborder="0" scrolling="no" allowfullscreen></iframe>'},$.getSettingValue=function(a){var b=h.field(K.current.contents,a);return"string"==typeof b?b:null},$.getParameters=function(){return na.copy(J.current.contents)},$.getParameterNames=function(){return h.fields(J.current.contents)},$.getParameterValue=function(a){return h.field(J.current.contents,a)},$.getQueryString=function(){return J.current.queryString},$.enableFeature=function(a,b){switch(a){case"fileinput":$.FileInput=R;break;default:return}null!=b&&(F.featureAssets[a]=b)},$.openWindow=function(a,b,c){null==b&&(b="_self"),null==a&&(a="about:blank");if((null==a||0==a.length)&&(a="about:blank"),$.isFullscreen()&&$.setFullscreen(!1),null==$.urlTemplateVars&&($.urlTemplateVars={},$.urlTemplateVars.cache_buster=function(){return""+(1e6+Math.floor(9e6*Math.random()))},$.urlTemplateVars.timestamp=function(){return""+(new Date).getTime()},$.urlTemplateVars.escape=function(a){return k.urlEncode(a.join(","))},$.urlTemplateVars.unescape=function(a){return k.urlDecode(a.join(","))},$.urlTemplateVars.publication_id=function(){return $.getPublicationID()},$.urlTemplateVars.experience_id=function(){return null!=$.experience?$.experience.id:""}),a=$.urlTemplateVarRE.map(a,$.insertUrlTemplateVar),$.dispatchCustomEvent("open",{url:a,name:b,features:c}),F.comm.send("openWindow",[a,b,c]),function(){var a,b=h.field(K.current.contents,"doubleclick");return a=!!b}(this)){return null}if(Object.prototype.hasOwnProperty.call($.window,"admob")){return $.window.admob.opener.openUrl(a),null}if("undefined"!=typeof mraid&&mraid.open){return mraid.open(a),null}return $.window.open(a,b,c)},$.createTrackingPixel=function(a,b){var c;c=null!=b&&b.timeout>0?b.timeout:1e4;var d=new L(a);return d.track(),window.setTimeout(function(){d.dispose()},c),d},$.dispose=function(a){h.isFunction(a)&&(0==L._pending.length?a(null):L._completionListeners.push(a))},$.insertUrlTemplateVar=function(a){var b=a.matched(1),c=$.urlTemplateVars[b];if(null==c)return"";if(h.isFunction(c))return c;var d,e=a.matched(2);d=null!=e&&e.length>0?e.split(":"):[];var f=c.call(null,d);return null!=f?""+f:""},$.registerFont=function(a){if("string"==typeof a){var b;b=r.__cast(a,String);var c=!k.endsWith(b,".css");a={type:c?"google":"hosted",content:c?b:g.substr(b,0,b.length-4)}}var d=a.type,e=a.content,f=d+":"+e;if($.registeredFonts.indexOf(f)>=0);else switch($.registeredFonts.push(f),d){case"google":E.createCSSLink("https://fonts.googleapis.com/css?family="+encodeURIComponent(e));break;case"hosted":E.createCSSLink("https:///d2ma12218neagj.cloudfront.net/fonts/"+e+".css");break;case"css":E.createStyleNode(e);break;default:}},$.isFullscreen=function(){return $.getFullscreen()>0},$.hasInteractivity=function(){var a=$.getFullscreen();return 0==a||2==a},$.allowsKeyboardInput=function(){return!0},$.getFullscreen=function(){var a=ca.getFullscreenElement();return null==a?0:a==ca.media?1:2},$.setFullscreen=function(a,b,c){null==c&&(c=!1),null==b&&(b=!1);var d;(0|a)===a?(d=a>0,b=a>=2,c=a>=2):d=!!a;return"hosted"==h.field(K.current.contents,"runtime")?(F.comm.send("setFullScreen",[d,b,c]),!0):d?ca.enterFullscreen(window.document.body,c)?!0:!b&&null!=ca.media&&ca.media.readyState>0&&ca.enterFullscreen(ca.media):ca.exitFullscreen()},$.dispatchCustomEvent=function(a,b){var c=$.window.document.createEvent("CustomEvent");c.initCustomEvent(a,!1,!1,b),$.window.dispatchEvent(c)};var _=function(a,b,c){null==b&&(b=0),this.code=a,this.subcode=b,this.message=c};e["zentrick.player.video.MediaError"]=_,_.__name__=!0,_.prototype={__class__:_};var aa=function(){};e["zentrick.player.video.SpriteVideoHelper"]=aa,aa.__name__=!0,aa.__interfaces__=[z],aa.get_instance=function(){return null==aa.instance?aa.instance=new aa:aa.instance},aa.prototype={init:function(a,b){var c=this;this.stream=a,this.audioElement=b,E.isIOS()?(this.spritesOnCanvas=!0,this.allowSpriteInterpolation=this.spriteInterpolation=!0):(this.spritesOnCanvas=!1,this.allowSpriteInterpolation=this.spriteInterpolation=!1);var d;d=this.spritesOnCanvas?"canvas":"div",this.canvas1=window.document.createElement(d),this.canvas2=window.document.createElement(d);for(var e=0,f=[this.canvas1,this.canvas2];e<f.length;){var g=f[e];++e,g.style.width="100%",g.style.height="100%",g.style.position="absolute",g.style.left="0",g.style.top="0",this.spritesOnCanvas||(g.style.backgroundSize=""+(3==this.stream.video.spriteVideoVersion?5:4)+"00% 300%")}this.canvasContainer=window.document.createElement("div"),this.canvasContainer.style.position="absolute",this.canvasContainer.style.width="0",this.canvasContainer.style.height="0",this.canvasContainer.appendChild(this.canvas1),this.canvasContainer.appendChild(this.canvas2),window.document.getElementById("playerContainer").appendChild(this.canvasContainer);var h=null;h=function(){if(null!=a){b.removeEventListener("loadstart",h),b.removeEventListener("progress",h);c.spriteCacheData=new o,c.spriteCacheIds=[],c.loadTimes=[],c.renderTimes=[],c.spriteQuality=1,c.paintRequested=!1,c.lastRender=0,c.getSprite(0)}},b.addEventListener("loadstart",h),b.addEventListener("progress",h),b.addEventListener("playing",function(){if(null!=a){c.requestPaint()}}),b.addEventListener("seeked",function(){null!=a&&c.paint()}),b.addEventListener("timeupdate",function(){if(null!=a){var b=null;try{b=window.top}catch(d){return void(d instanceof q&&(d=d.val))}if(b==window.self&&c.lastRender>0&&(new Date).getTime()-c.lastRender>2e3){c.stream.pauseVideo()}}}),b.addEventListener("pause",function(){null!=a&&(c.drawFrame(),c.renderTimes=[],c.paintRequested=!1,c.lastRender=0)})},dispose:function(){null!=this.canvasContainer&&(window.document.getElementById("playerContainer").removeChild(this.canvasContainer),this.canvasContainer=null,this.canvas1=null,this.canvas2=null),this.paintRequested=!1},requestPaint:function(){this.paintRequested||(this.paintRequested=!0,window.requestAnimationFrame(d(this,this.paint)))},paint:function(a){return null==a&&(a=0),null==this.stream?!0:(this.lastRender=(new Date).getTime(),this.drawFrame(),this.paintRequested&&(this.addRenderTime(),this.paintRequested=!1),this.audioElement.paused||this.requestPaint(),!0)},drawFrame:function(){var a=this.audioElement.currentTime,b=Math.floor(a),c=this.getSprite(b);if(null!=c&&c.width)this.overlayFrames(a,b,this.audioElement.paused);else if(!this.stream.stalled){var d=this.stream.getReadyState();this.stream.stalled=!0,this.audioElement.pause(),this.stream.fireStateEvents(d)}},overlayFrames:function(a,b,c){var d,e=a-b,f=Math.floor(e*(3*(3==this.stream.video.spriteVideoVersion?5:4)));d=(f+1)%(3*(3==this.stream.video.spriteVideoVersion?5:4));var g;g=!this.spriteInterpolation||c?-1:0==d?b+1<this.stream.getDuration()?b+1:-1:b;if(this.positionFrame(this.canvas1,b,f),g>0){var h;h=1/(3*(3==this.stream.video.spriteVideoVersion?5:4));var i=(e-f*h)/h;this.positionFrame(this.canvas2,g,d),this.canvas2.style.display="block",this.canvas2.style.opacity=""+i}else this.canvas2.style.display="none"},positionFrame:function(a,b,c){var d=this.getSpriteLoader(b);if(null!=d&&d.width){var e;e=c%(3==this.stream.video.spriteVideoVersion?5:4);var f=Math.floor(c/(3==this.stream.video.spriteVideoVersion?5:4));if(this.spritesOnCanvas)this.drawToCanvas(d,a,f,e);else{this.positionBackgroundImage(d,a,f,e)}}},drawToCanvas:function(a,b,c,d){var e=b.getContext("2d");if(!a.width){return void e.clearRect(0,0,b.width,b.height)}var f=Math.floor(a.width/(3==this.stream.video.spriteVideoVersion?5:4)),g=Math.floor(a.height/3);b.width=f,b.height=g,e.drawImage(a,d*f,c*g,f,g,0,0,b.width,b.height)},positionBackgroundImage:function(a,b,c,d){b.style.backgroundImage="url("+i.string(a.src)+")",b.style.backgroundPosition="-"+d+"00% -"+c+"00%"},getSprite:function(a){for(var b=this.getSpriteLoader(a),c=0;5>c;){var d=c++;this.getSpriteLoader(a+d+1)}return b},getSpriteLoader:function(a){var b=this;if(null==this.spriteCacheData||null==this.stream||a>this.stream.getDuration())return null;if(this.spriteCacheData.h.hasOwnProperty(a))return this.spriteCacheData.h[a];var c=this.getSpriteUrl(a),d=!1,e=new Image;this.spritesOnCanvas&&(e.crossOrigin="anonymous");var f=(new Date).getTime();for(e.onload=function(){if(null!=b.stream){if(G.aspectRatio<0){var c;c=e.width/(3==b.stream.video.spriteVideoVersion?5:4);var d=e.height/3;G.setSourceVideoSize(c,d,!0)}var g=(new Date).getTime();if(b.stream.stalled&&a==Math.floor(b.stream.getCurrentTime())){b.stream.getPaused()?b.paint():b.audioElement.play(),b.stream.stalled=!1}b.addLoadTime(g-f),b.drawFrame()}},e.onerror=function(){if(null!=b.stream)if(d){b.addLoadTime(1/0)}else{e.src=null,e.src=c,d=!0}},e.src=c,this.spriteCacheData.set(a,e),this.spriteCacheIds.push(a);this.spriteCacheIds.length>20;){var g=this.spriteCacheIds.shift();this.spriteCacheData.remove(g)}return e},getSpriteUrl:function(a){var b,c,d=this.stream.video.spriteVideoVersion;switch(d){case 3:b="sprite/"+(this.spriteQuality>0?"360p15":"240p15")+"-",c="";break;case 2:b="sprite.",c=this.spriteQuality>0?"@2x":"";break;default:b="iphone.sprite.",c=""}return this.videoBaseUrl+"/"+b+a+c+".jpg"},addLoadTime:function(a){this.loadTimes.push(a);this.loadTimes.length>5&&(this.loadTimes.shift(),this.checkNetworkLatency())},addRenderTime:function(){var a=(new Date).getTime();this.renderTimes.push(a);for(var b=0;b<this.renderTimes.length&&this.renderTimes[b]<a-3e3;)++b;b>0&&(this.renderTimes.splice(0,b),this.checkRenderLatency())},checkNetworkLatency:function(){var a=this.getNetworkLatency(),b=this.getFrameRate();if(this.spriteQuality>0){if(a>800){--this.spriteQuality,this.loadTimes=[];this.stream.fireEvent("qualitychange")}}else if(400>a&&(0>b||b>=20)){++this.spriteQuality,this.loadTimes=[];this.stream.fireEvent("qualitychange")}},checkRenderLatency:function(){var a=this.getFrameRate();if(20>a){this.allowSpriteInterpolation?(this.spriteInterpolation=!this.spriteInterpolation,this.spriteInterpolation&&this.spriteQuality>0&&--this.spriteQuality):this.spriteQuality>0&&--this.spriteQuality,this.renderTimes=[],this.paintRequested=!1;this.stream.fireEvent("qualitychange")}else;},getNetworkLatency:function(){var a=this.loadTimes;return 0==a.length?0:(0==a.length?0:function(){for(var b,c=0,d=0,e=a.length;e>d;){var f=d++;c+=a[f]}return b=c}(this))/a.length},getFrameRate:function(){return this.renderTimes.length>0&&this.renderTimes[0]<(new Date).getTime()-1e3?this.renderTimes.length/3:-1},__class__:aa};var ba=function(){this.reset()};e["zentrick.player.video.TimeRanges"]=ba,ba.__name__=!0,ba.orderEntries=function(a,b){return a[0]<b[0]?-1:a[0]==b[0]?0:1},ba.prototype={add:function(a,b){if(a>=b)throw new Z("Invalid range");this.entries.push([a,b]),this.normalize()},remove:function(a,b){if(a>=b)throw new Z("Invalid range");for(var c=0;c<this.entries.length;){var d=this.entries[c][0],e=this.entries[c][1];a>d&&b>=e&&(e=this.entries[c][1]=Math.min(e,a)),e>b&&d>=a&&(d=this.entries[c][0]=Math.max(d,b)),a>d&&e>b&&(this.entries[c][1]=a,this.entries.splice(c+1,0,[e,b]),c++),c++}this.normalize()},normalize:function(){this.entries.sort(ba.orderEntries);for(var a=0;a<this.entries.length;){var b=this.entries[a][0],c=this.entries[a][1];b>=c?this.entries.splice(a,1):a>0&&b<=this.entries[a-1][1]?(this.entries[a-1][1]=Math.max(this.entries[a-1][1],c),this.entries.splice(a,1)):a++}},reset:function(){this.entries=[]},copy:function(){var a=new ba;return a.entries=this.entries.slice(),a},length:function(){return this.entries.length},start:function(a){if(a>=this.entries.length)throw new Z("Invalid index");return this.entries[a][0]},end:function(a){if(a>=this.entries.length)throw new Z("Invalid index");return this.entries[a][1]},__class__:ba};var ca=function(a,b){this.stream=a,!function(){var a,c=b.width;return a=isNaN(c)}(this)&&b.width>0&&!function(){var a,c=b.height;return a=isNaN(c)}(this)&&b.height>0?G.aspectRatio=b.width/b.height:G.aspectRatio=-1;var c=null==ca.media;if(c){if(this.stream.video.spriteVideoVersion>0){var e=window.document;ca.media=e.createElement("audio"),ca.media.loop=!1}else{var g=window.document;if(ca.media=g.createElement("video"),ca.media.setAttribute("playsinline",""),ca.media.setAttribute("webkit-playsinline",""),this.isOldIPhoneOrIPod()?(ca.view=null,ca.media.style.width="100%",ca.media.style.height="100%"):ca.view=ca.media,0==this.stream.video.spriteVideoVersion&&new f("; IEMobile/","").match(window.navigator.userAgent)){ca.media.style.visibility="hidden";var h=null;h=function(){
ca.media.removeEventListener("play",h),ca.media.style.visibility="visible"},ca.media.addEventListener("play",h)}}ca.media.controls=!1,window.document.getElementById("playerContainer").appendChild(ca.media);for(var i=["webkitbeginfullscreen","webkitendfullscreen","webkitfullscreenchange","mozfullscreenchange"],j=0;j<i.length;){var k=i[j];++j,window.document.addEventListener(k,ca.sendFullscreenChange)}var l=null;try{l=window.top.document}catch(m){m instanceof q&&(m=m.val)}if(null!=l&&l!=window.document){i.push("fullscreenchange");for(var n=0;n<i.length;){var o=i[n];++n,l.addEventListener(o,ca.sendFullscreenChange)}}}this.stream.video.spriteVideoVersion>0&&(aa.get_instance().init(a,ca.media),ca.view=aa.get_instance().canvasContainer),ca.media.style.display="block",ca.media.style.position="absolute",ca.media.style.objectFit="fill",G.addStageResizeListener(d(this,this.onStageResize)),G.addVideoResizeListener(d(this,this.onVideoResize)),this.onStageResize(null),this.onVideoResize(null)};e["zentrick.player.video.VideoDisplay"]=ca,ca.__name__=!0,ca.clearSources=function(){if(null!=ca.media){for(ca.media.pause();ca.media.firstChild;)ca.media.removeChild(ca.media.firstChild);ca.media.load()}},ca.getFullscreenElement=function(){var a=null;try{a=window.top.document}catch(b){b instanceof q&&(b=b.val)}null!=a&&Object.prototype.hasOwnProperty.call(a,"documentElement")||(a=window.document);var c=E.getVendorPrefixed(a,"fullscreenElement");return null==c?null:c.value},ca.enterFullscreen=function(a,b){if(null==b&&(b=!1),null==a){return!1}var c=(a.nodeName,E.getVendorPrefixed(a,"supportsFullscreen")||E.getVendorPrefixed(window.document,"fullscreenEnabled")||E.getVendorPrefixed(window.document,"fullScreenEnabled"));if(null==c||!c.value){return!1}if(b)for(var d=0,e=ca.enterFullscreenKeyFunctions;d<e.length;){var f=e[d];if(++d,c=E.getVendorPrefixed(a,f)){c.value.name;return c.value.apply(a,[]),!0}}for(var g=0,h=ca.enterFullscreenFunctions;g<h.length;){var i=h[g];if(++g,c=E.getVendorPrefixed(a,i)){var j=[];b&&"webkit"==c.prefix&&j.push(HTMLElement.ALLOW_KEYBOARD_INPUT);c.value.name;return c.value.apply(a,j),"webkit"!=c.prefix||null!=ca.getFullscreenElement()}}return!1},ca.exitFullscreen=function(){var a=ca.getFullscreenElement();if(null==a)return!0;var b;if(b=E.getVendorPrefixed(a,"exitFullscreen"))return b.value.apply(a,[]),!0;for(var c=0,d=ca.exitFullscreenFunctions;c<d.length;){var e=d[c];if(++c,b=E.getVendorPrefixed(window.document,e)){var f=window.document;return b.value.apply(f,[]),!0}}return!1},ca.sendFullscreenChange=function(a){var b=a.target,c=window.document.createEvent("Event");c.initEvent("fullscreenchange",!0,!1),b.dispatchEvent(c)},ca.prototype={destroy:function(){G.removeStageResizeListener(d(this,this.onStageResize)),G.removeVideoResizeListener(d(this,this.onVideoResize)),this.stream=null,aa.get_instance().dispose(),ca.clearSources()},isOldIPhoneOrIPod:function(){if(E.isIPhoneOrIPod()){var a=E.getRenderingEngineInfo();if(null!=a){var b,c=new f("\\..*","").replace(a.version,"");return b=parseInt(c,10),m.gt(600,b)}}return!1},onStageResize:function(){if(null!=ca.view)if(E.isIPhoneOrIPod()){var a=d(this,this.fitView);$.window.requestAnimationFrame(function(){a()})}else this.fitView()},fitView:function(){null!=this.stream&&G.setSourceVideoSize(this.stream.getVideoWidth(),this.stream.getVideoHeight(),!0,this.stream.getInsets())},onVideoResize:function(){var a;if(a=null!=G.actualVideoBox?G.actualVideoBox:G.videoBox,null==a||a.width<=0||a.height<=0);else null!=ca.view&&null!=ca.view.style&&(ca.view.style.left=i.string(a.x)+"px",ca.view.style.top=i.string(a.y)+"px",ca.view.style.width=i.string(a.width)+"px",ca.view.style.height=i.string(a.height)+"px")},getVideoWidth:function(){if(this.stream.video.spriteVideoVersion>0){var a=aa.get_instance();return null!=a.canvasContainer?a.canvasContainer.clientWidth:0}return null!=ca.media?ca.media.videoWidth:0},getVideoHeight:function(){if(this.stream.video.spriteVideoVersion>0){var a=aa.get_instance();return null!=a.canvasContainer?a.canvasContainer.clientHeight:0}return null!=ca.media?ca.media.videoHeight:0},__class__:ca};var da=function(){};e["zentrick.player.video.provider.IProvider"]=da,da.__name__=!0,da.prototype={__class__:da};var ea=function(){this.operationId=0};e["zentrick.player.video.provider.BaseProvider"]=ea,ea.__name__=!0,ea.__interfaces__=[da],ea.prototype={provision:function(){},cancel:function(){this.isBusy&&(this.operationId++,this.isBusy=!1,this.video=null,this.handler=null)},supports:function(a){return null!=a&&null!=a.type},resolve:function(a,b,c){if(null!=b){if(!this.supports(a))return void b(null);this.cancel(),this.isBusy=!0,this.video=a,this.handler=b,c(a),this.run()}},run:function(){},complete:function(a){this.handler(a),this.cancel()},__class__:ea};var fa=function(){ea.call(this)};e["zentrick.player.video.provider.StreamsProvider"]=fa,fa.__name__=!0,fa.__super__=ea,fa.prototype=c(ea.prototype,{supports:function(a){return ea.prototype.supports.call(this,a)&&"streams"==a.type},run:function(){if(this.video.implementation="generic",function(a){var b,c=a.video.streams;return b=c instanceof Array&&null==c.__enum__}(this))for(var a=this.video.streams,b=0;b<a.length;){var c=a[b];++b;var d=c.url;if(null!=d&&k.startsWith(d,"//")){c.url=ma.defaultProtocol+d}}if(function(a){var b,c=a.video.streams;return b=c instanceof Array&&null==c.__enum__}(this)){var e=this.video.streams;e.sort(function(a,b){if(null!=a.width&&null!=b.width&&null!=a.height&&null!=b.height){if(a.width<b.width||a.height<b.height)return-1;if(b.width<a.width||b.height<a.height)return 1}if(null!=a.bitrate&&null!=b.bitrate){if(a.bitrate<b.bitrate)return-1;if(b.bitrate<a.bitrate)return 1}return 0});for(var f=0,g=0,h=e.length;h>g;){var i=g++;f=Math.max(null!=e[i].bitrate?e[i].bitrate:0,f)}if(f>0&&32768>f)for(var j=0,l=e.length;l>j;){var m=j++;null!=e[m].bitrate&&(e[m].bitrate=1024*e[m].bitrate)}}this.complete(new ka(this.video))},__class__:fa});var ga=function(){ea.call(this)};e["zentrick.player.video.provider.ZProvider"]=ga,ga.__name__=!0,ga.tokenizeStreamInfo=function(a){var b={};return ga.TOKENIZE_RE.map(a,function(a){var c=a.matched(1).toLowerCase(),d=a.matched(2);switch(null==d&&(d=a.matched(3)),c){case"resolution":var e=d.indexOf("x");if(e>0){var f=g.substr(d,0,e);b.width=parseInt(f,10);var h=g.substr(d,e+1,null);b.height=parseInt(h,10)}break;case"bandwidth":b.bandwidth=parseInt(d,10);break;default:b[c]=d}return""}),b},ga.__super__=ea,ga.prototype=c(ea.prototype,{supports:function(a){return ea.prototype.supports.call(this,a)&&"zentrick"==a.type&&null!=a.id},run:function(){var a=this;this.video.implementation="generic",this.video.adaptive=!0,this.video.streams=[];var b,c=this.choosePop(this.chooseEndpoint(),la.getContinent());b=function(a){var b,d=a.video.id;"tree"==c.naming&&(d=i.string(a.video.id.charAt(0))+"/"+i.string(a.video.id.substr(0,2))+"/"+d);var e="https://"+i.string(c.http)+"/"+d;return b={path:d,httpBase:e}}(this);var d,e;this.video.encoderVersion>=4?(d=i.string(b.httpBase)+"/hls/playlist.m3u8",e=i.string(b.httpBase)+"/media/index.json"):(d=i.string(b.httpBase)+"/root.m3u8",e=d),e+="?_";var f=null!=this.video.options&&(this.video.options.spriteVideoSupport||this.video.options.iphoneInline)&&(E.isIPhoneOrIPod()||E.isWindowsPhone8());f?this.video.encoderVersion>=4?this.video.spriteVideoVersion=3:this.video.encoderVersion>=2?this.video.spriteVideoVersion=2:this.video.spriteVideoVersion=1:this.video.spriteVideoVersion=0;if(E.isIPhoneOrIPod()&&0==this.video.spriteVideoVersion)return this.video.streams.push({type:"application/x-mpegurl",url:d}),void this.complete(new ka(this.video));var g=this.operationId;ma.request("GET",e,null,function(c,d){if(a.operationId==g){if(null==c){var e=d,f=b,h=g,i=a;if(a.video.encoderVersion<3||la.isReady())a.parseDescriptor(e,f,h);else{var j=F.playerStartTime+500-(new Date).getTime();if(0>=j){a.parseDescriptor(e,f,h)}else{var k=0,l=function(){k>0&&(window.clearTimeout(k),k=0,i.parseDescriptor(e,f,h))};k=window.setTimeout(l,0|j),la.addListener(l)}}}}else;})},parseDescriptor:function(a,b,c){if(this.operationId==c){var d,e=this.choosePop(this.chooseEndpoint(),la.getContinent()),f=h.field(K.current.contents,"disableprotocols");if(d=null!=f&&f.length>0?f.split(","):[],this.video.encoderVersion>=4)for(var g=JSON.parse(a),j=g.files,k=0;k<j.length;){var l=j[k];++k;var m;if(l.height)m=l.height;else{var n=l.name.substr(0,l.name.indexOf("p"));m=parseInt(n,10)}var o;o=l.width?l.width:g.source.width/g.source.height*m,this.addStreams({filename:"media/"+i.string(l.name),type:l.type,bandwidth:1024*(l.video.bitRate+l.audio.bitRate),width:o,height:m,codecs:null!=l.video.codec&&null!=l.audio.codec?i.string(l.video.codec)+","+i.string(l.audio.codec):null},b,e,d)}else for(var p=null,q=0,r=ga.LINES_RE.split(a);q<r.length;){var s=r[q];if(++q,ga.META_RE.match(s)){var t=ga.META_RE.matched(1),u=ga.META_RE.matched(2);switch(t){case"ZNTR-ALT":if(null==p)p=ga.tokenizeStreamInfo(u),this.addStreams(p,b,e,d),p=null;else;break;case"STREAM-INF":p=ga.tokenizeStreamInfo(u);break;case"ZNTR-MP4":if(null!=p)p.filename=u,p.type="video/mp4",this.addStreams(p,b,e,d),p=null;else;break;default:}}}this.video.streams;this.complete(new ka(this.video))}else;},addStreams:function(a,b,c,d){if(null!=a&&a.height<=(null!=$.plan&&null!=$.plan.maxVideoHeight?$.plan.maxVideoHeight:1/0))(function(){for(var a,b=!1,c=0,e=d.length;e>c;){var f=c++;if("http"==d[f]){b=!0;break}}return a=b})(this)||this.video.streams.push({delivery:"progressive",type:a.type,bitrate:a.bandwidth,width:a.width,height:a.height,codecs:a.codecs,url:i.string(b.httpBase)+"/"+i.string(a.filename)});else;},chooseEndpoint:function(){for(var a=0;a+1<ga.ENDPOINTS.length&&this.video.encoderVersion>=function(){var b,c=ga.ENDPOINTS[a+1].minver;return b=0|c}(this);)++a;return ga.ENDPOINTS[a]},choosePop:function(a,b){var c=a.pops,d=c[0];if(null!=b){for(var e=1;e<c.length&&(null==c[e].cont||!function(){for(var a,d=c[e].cont,f=!1,g=0,h=d.length;h>g;){var i=g++;if(d[i]==b){f=!0;break}}return a=f}(this));)++e;e<c.length&&(d=c[e])}return d.naming=a.naming,d},__class__:ga});var ha=function(){};e["zentrick.player.video.stream.IStream"]=ha,ha.__name__=!0,ha.prototype={__class__:ha};var ia=function(a){this.video=a,this.setLive(!!a.live),this.targetHeight=0,this.eventTarget=null,this.loadeddataFired=!1};e["zentrick.player.video.stream.MetadataStream"]=ia,ia.__name__=!0,ia.__interfaces__=[ha],ia.prototype={getEventTarget:function(){return this.eventTarget},setEventTarget:function(a){null!=this.eventTarget&&this.eventTarget.removeEventListener("loadeddata",d(this,this.onLoadeddata)),this.eventTarget=a,null!=this.eventTarget&&this.eventTarget.addEventListener("loadeddata",d(this,this.onLoadeddata))},onLoadeddata:function(){this.loadeddataFired=!0},fireEvent:function(a){var b=this.getEventTarget();if(null!=b){var c=new N;c.initEvent(a,!1,!1),b.dispatchEvent(c)}},dispose:function(){this.setEventTarget(null)},getReadyState:function(){return 0},getNetworkState:function(){return 0},getError:function(){return this.error},setError:function(a){if(null!=a&&2!=a.code&&0!=a.subcode){this.error=a,this.fireEvent("error")}else this.error=null},getSeeking:function(){return!1},getPaused:function(){return!0},getPlayed:function(){return new ba},getEnded:function(){return!1},getVideoWidth:function(){return this.getVideo().width},getVideoHeight:function(){return this.getVideo().height},getVideo:function(){return this.video},getDuration:function(){var a=this.getVideo();return null!=a?a.duration:0},getCurrentTime:function(){return 0},setCurrentTime:function(){},playVideo:function(){},pauseVideo:function(){},getMuted:function(){return!1},setMuted:function(){},getVolume:function(){return 1},setVolume:function(){},getLive:function(){return this.live},setLive:function(a){this.live=a},getBandwidthEstimate:function(){return 0},getCurrentSource:function(){return null},getQualityLevel:function(){this.getTargetHeight();return this.targetHeight>0?M.get_instance().getQualityLevelByVideoSize(this.getVideoWidth(),this.getVideoHeight()):M.get_instance().QUALITY_AUTO},setQualityLevel:function(a){if(a==M.get_instance().QUALITY_AUTO)this.setTargetHeight(0);else{if(!M.QUALITY_LEVEL_TO_PIXEL_HEIGHT.exists(a)||!function(b){for(var c,d=b.getAvailableQualityLevels(),e=!1,f=0,g=d.length;g>f;){var h=f++;if(d[h]==a){e=!0;break}}return c=e}(this))throw new Z("Invalid quality level: "+a);this.setTargetHeight(m.toFloat(M.QUALITY_LEVEL_TO_PIXEL_HEIGHT.get(a)))}},getTargetHeight:function(){return this.targetHeight},setTargetHeight:function(a){var b=this;this.startTargetHeightChange(a,function(a,c){if(null==a){b.targetHeight=c}else;})},startTargetHeightChange:function(a,b){window.setTimeout(function(){b(null,a)},0)},getAvailableQualityLevels:function(){if(null==this.video||null==this.video.streams)return[];var a,b=[],c=0;for(a=r.__cast(this.video.streams,Array);c<a.length;){var d=a[c];++c;var e=d.width,f=d.height;if(e>0&&f>0){var h=M.get_instance().getQualityLevelByVideoSize(e,f);null==h||function(){for(var a,c=!1,d=0,e=b.length;e>d;){var f=d++;if(b[f]==h){c=!0;break}}return a=c}(this)||b.push(h)}}return b.sort(function(a,b){return function(){var a,c=g.substr(b,0,b.length-1);return a=parseInt(c,10)}(this)-function(){var b,c=g.substr(a,0,a.length-1);return b=parseInt(c,10)}(this)}),b.push(M.get_instance().QUALITY_AUTO),b},setSuccessor:function(){},getInsets:function(){return this.video.insets},getSizeConstraints:function(a,b){null==b&&(b=-1);var c,d;if(b>0){c=0;var e,f,g=a.filter(function(a){return Object.prototype.hasOwnProperty.call(a,"height")&&r.__cast(a.height,ra)>0});if(f=g.map(function(a){return a.height}),0==f.length)e=null;else{for(var h=f[0],i=1,j=f.length;j>i;){var k=i++;f[k]<h&&(h=f[k])}e=h}d=Math.max(b,e)}else c=G.stageBox.width,d=G.stageBox.height;return{width:c,height:d}},streamAllowed:function(a,b){var c,d=h.fields(b);c=d.filter(function(c){return h.field(b,c)>0&&Object.prototype.hasOwnProperty.call(a,c)});for(var e=0;e<c.length;){var f=c[e];++e;var g=h.field(b,f),i=h.field(a,f);if(i>g)return!1}return!0},fireStateEvents:function(a){for(var b=this.getReadyState(),c=a;b>c;){for(var d=ia.EVENTS_BY_STATE[c],e=0;e<d.length;){var f=d[e];if(++e,this.fireEvent(f),this.getReadyState()!=b)return}++c}if(3>b&&a>=3)if(this.getPaused()||this.getEnded()||this.getReadyState()>=1&&null!=this.getError());else{this.fireEvent("timeupdate"),this.getReadyState()<3&&this.fireEvent("waiting")}},__class__:ia};var ja=function(a){if(ia.call(this,a),this.shouldPlay=!1,this.restoreToTime=-1,this.createVideoDisplay(),function(a){var b,c=a.video.streams;return b=c instanceof Array&&null==c.__enum__}(this)){var b;b=r.__cast(this.video.streams,Array),this.video.streams=b.filter(d(this,this.streamIsSupported))}else{this.video.streams=[]}this.addEventListeners()};e["zentrick.player.video.stream.HTML5Stream"]=ja,ja.__name__=!0,ja.__super__=ia,ja.prototype=c(ia.prototype,{dispose:function(){this.removeEventListeners(),this.videoDisplay.destroy(),ia.prototype.dispose.call(this)},createVideoDisplay:function(){this.videoDisplay=new ca(this,this.video)},addEventListeners:function(){for(var a=0,b=ja.FORWARDED_EVENTS;a<b.length;){var c=b[a];++a,ca.media.addEventListener(c,d(this,this.onEvent))}},removeEventListeners:function(){for(var a=0,b=ja.FORWARDED_EVENTS;a<b.length;){var c=b[a];++a,ca.media.removeEventListener(c,d(this,this.onEvent))}},streamIsSupported:function(){return!0},onEvent:function(a){if(!this.stalled||"play"!=a.type&&"pause"!=a.type)this.handleEvent(a);else;},handleEvent:function(a){var b=a.type;switch(b){case"ended":this.shouldPlay=!1,this.restoreToTime=-1;break;case"loadedmetadata":case"durationchange":G.setSourceVideoSize(this.getVideoWidth(),this.getVideoHeight(),!0,this.getInsets());break;case"seeked":if(this.restoreToTime>=0)if(Math.abs(ca.media.currentTime-this.restoreToTime)<.5){this.restoreToTime=-1}else{this.setCurrentTime(this.restoreToTime,!0)}break;case"loadeddata":if(this.restoreToTime>=0)if(Math.abs(ca.media.currentTime-this.restoreToTime)<.5){this.restoreToTime=-1}else{this.setCurrentTime(this.restoreToTime,!0)}break;case"canplay":if(!(this.restoreToTime>=0))if(this.shouldPlay){this.playVideo()}else;break;case"canplaythrough":if(!(this.restoreToTime>=0))if(this.shouldPlay){this.playVideo()}else;break;case"error":this.setError(new _(ca.media.error.code))}if(this.restoreToTime>=0&&function(){var b,c=a.type;return b=Object.prototype.hasOwnProperty.call(ja.SUPPRESSED_EVENTS,c)}(this));else this.fireEvent(a.type)},getVideoWidth:function(){var a;return a=null!=this.videoDisplay?this.videoDisplay.getVideoWidth():0,a>0?a:ia.prototype.getVideoWidth.call(this)},getVideoHeight:function(){var a;return a=null!=this.videoDisplay?this.videoDisplay.getVideoHeight():0,a>0?a:ia.prototype.getVideoHeight.call(this)},getDuration:function(){return!isNaN(ca.media.duration)&&ca.media.duration>0?ca.media.duration:ia.prototype.getDuration.call(this)},getCurrentTime:function(){return this.restoreToTime>=0?this.restoreToTime:this.getReadyState()>=1?ca.media.currentTime:0},setCurrentTime:function(a){this.getReadyState()>=2?(ca.media.currentTime=a,this.restoreToTime=-1):this.restoreToTime=a},playVideo:function(){this.shouldPlay=!0,!this.stalled&&ca.media.paused&&ca.media.play()},pauseVideo:function(){this.shouldPlay=!1,ca.media.paused||ca.media.pause()},getPaused:function(){return this.stalled?!this.shouldPlay:ca.media.paused},getMuted:function(){return ca.media.muted},setMuted:function(a){ca.media.muted=a},getVolume:function(){return ca.media.volume},setVolume:function(a){ca.media.volume=a},getReadyState:function(){return this.stalled?2:ca.media.readyState},getNetworkState:function(){return ca.media.networkState},getSeeking:function(){return ca.media.seeking},getPlayed:function(){for(var a=new ba,b=ca.media.played,c=0,d=b.length;d>c;){var e=c++;a.add(b.start(e),b.end(e))}return a},getEnded:function(){return ca.media.ended},getAvailableQualityLevels:function(){return this.video.spriteVideoVersion>0?[M.get_instance().QUALITY_240P,M.get_instance().QUALITY_AUTO]:ia.prototype.getAvailableQualityLevels.call(this)},getCurrentSource:function(){return""==ca.media.currentSrc?null:ca.media.currentSrc},__class__:ja});var ka=function(a){ja.call(this,a),this.currentSources=null,this.currentSourceUpdate=-1,0==this.video.spriteVideoVersion&&(this.placeholder=window.document.createElement("canvas"),this.placeholder.style.position="absolute",this.placeholder.style.display="none",ca.media.parentNode.insertBefore(this.placeholder,ca.media.nextSibling),this.startQualityCheck()),this.updateSources(),G.addVideoResizeListener(d(this,this.onVideoResize))};e["zentrick.player.video.stream.NativeHTML5Stream"]=ka,ka.__name__=!0,ka.getTypeWithCodecs=function(a){var b=[i.string(a.type)+(null!=a.codecs?'; codecs="'+i.string(a.codecs)+'"':"")];if("video/mp4"==a.type&&null!=a.codecs){var c,d=a.codecs;if(null!=d){var e=d.split(".")[1];c=parseInt(e,10)}else c=0;var f,g=a.codecs;if(null!=g){var h=g.split(",")[0].split(".")[2];f=parseInt(h,10)}else f=0;var j=0;switch(c){case 66:j=224;break;case 77:j=64}for(var l=a.codecs.split(","),m=0,n=[10,11,12,13,20,21,22,30,31,32,40,41,42,50,51,52];m<n.length;){var o=n[m];++m,o>=f&&b.push(i.string(a.type)+'; codecs="'+l[0].split(".")[0]+"."+k.hex((c<<16)+(j<<8)+o,6)+(l.length>1?","+l[1]:"")+'"')}}return b},ka.__super__=ja,ka.prototype=c(ja.prototype,{dispose:function(){G.removeVideoResizeListener(d(this,this.onVideoResize)),this.stopQualityCheck(),ja.prototype.dispose.call(this),null!=this.placeholder&&null!=this.placeholder.parentNode&&(this.placeholder.parentNode.removeChild(this.placeholder),this.placeholder=null)},createVideoDisplay:function(){ja.prototype.createVideoDisplay.call(this),ca.media.canPlayType("video/mp4")},streamIsSupported:function(a){return null!=a.url&&!k.startsWith(r.__cast(a.url,String),"rtmp:")&&null!=function(b){for(var c,d=ka.getTypeWithCodecs(a),e=0;e<d.length&&!function(a){var b,c=d[e];return b="application/x-mpegurl"==c&&(E.isIOS()||a.getLive())?function(){var a;return a=!0}(a):function(a){var b,d,e=ca.media.canPlayType(c);d="canPlayType("+function(){var a,b=null;return a=JSON.stringify(c,null,b)}(a)+") = "+function(){var a,b=null;return a=JSON.stringify(e,null,b)}(a);return b=""!=e}(a)}(b);)++e;return c=e<d.length?d[e]:null}(this)},addEventListeners:function(){if(ja.prototype.addEventListeners.call(this),ka.TRACK_READY_STATE){this.trackedReadyState=0;for(var a=0,b=h.fields(ka.READY_STATE_EVENTS);a<b.length;){var c=b[a];++a,ca.media.addEventListener(c,d(this,this.onReadyStateEvent))}}},removeEventListeners:function(){if(ja.prototype.removeEventListeners.call(this),ka.TRACK_READY_STATE){for(var a=0,b=h.fields(ka.READY_STATE_EVENTS);a<b.length;){var c=b[a];++a,ca.media.removeEventListener(c,d(this,this.onReadyStateEvent))}this.trackedReadyState=0}},onVideoResize:function(){if(null!=this.placeholder&&"none"!=this.placeholder.style.display){this.positionPlaceholder()}if(!E.isMobileDevice()){this.updateSources()}},handleEvent:function(a){window.clearTimeout(this.endedCheckTimeout);var b=a.type;switch(b){case"timeupdate":this.endedCheckTimeout=window.setTimeout(d(this,this.checkEnded),0);break;case"emptied":this.restoreToTime>=0&&this.showPlaceholder();break;case"playing":this.restoreToTime>=0||this.hidePlaceholder()}ja.prototype.handleEvent.call(this,a)},updateSources:function(a,b){null==a&&(a=-1);var c=this;if(this.video.spriteVideoVersion>0){var d=aa.get_instance(),e=this.video.streams[0];if(d.videoBaseUrl=e.url.substr(0,e.url.lastIndexOf("/")),3==d.stream.video.spriteVideoVersion){var f=d.videoBaseUrl.lastIndexOf("/");d.videoBaseUrl=g.substr(d.videoBaseUrl,0,f)}var h,i=d.stream.video.spriteVideoVersion;switch(i){case 3:h=d.videoBaseUrl+"/audio/128k.m4a";break;case 2:h=d.videoBaseUrl+"/audio.m4a";break;default:h=d.videoBaseUrl+"/iphone.audio.aac"}return ca.media.src!=h&&(ca.media.src=h,ca.media.load()),void(null!=b&&b())}if(this.video.streams.length>0){var j;j=a>=0?a:this.getTargetHeight();var k;k=0>=j&&E.isMobileDevice()?function(){var a,b,c=E.getVendorPrefixed(window,"devicePixelRatio");return b=null!=c?c.value:1,a={width:window.screen.width*b,height:window.screen.height*b}}(this):this.getSizeConstraints(this.video.streams,j),k.bitrate=A.get_instance().getBandwidth();var l;if(l=r.__cast(this.video.streams,Array),this.streams=l.filter(function(a){var b=c.streamAllowed(a,k);return b}),0==this.streams.length){this.streams=[r.__cast(this.video.streams,Array)[0]]}if(j>0){var m=this.streams[this.streams.length-1];this.streams=this.streams.filter(function(a){return a.width==m.width&&a.height==m.height})}}else this.streams=[];if(this.currentSourceUpdate>=0){window.clearTimeout(this.currentSourceUpdate),this.currentSourceUpdate=-1}this.currentSourceUpdate=window.setTimeout(function(){if(c.currentSourceUpdate=-1,c.streams.length>1){var a=["video/mp4","video/webm","application/x-mpegurl"];c.streams.sort(function(b,c){return b.height!=c.height?c.height-b.height:b.type!=c.type?a.indexOf(c.type)-a.indexOf(b.type):function(a){var b,d=c.codecs;return b=null!=d?function(){var a,b=d.split(".")[1];return a=parseInt(b,10)}(a):0}(this)-function(a){var c,d=b.codecs;return c=null!=d?function(){var a,b=d.split(".")[1];return a=parseInt(b,10)}(a):0}(this)});var d=c.streams[0].bitrate;c.maybeSetVideoElementSources(c.streams.filter(function(a){return a.bitrate==d}))}else c.maybeSetVideoElementSources(c.streams);null!=b&&b()},0)},maybeSetVideoElementSources:function(a){var b,c=this.streams.map(function(a){return a.url}),d=null;if(b=JSON.stringify(c,null,d),b!=this.currentSources){if(this.currentSources=b,this.getReadyState()>=2)if(this.restoreToTime=ca.media.currentTime,null==this.placeholder);else{this.placeholder.width=this.getVideoWidth(),this.placeholder.height=this.getVideoHeight();try{var e=this.placeholder.getContext("2d");e.clearRect(0,0,this.placeholder.width,this.placeholder.height),e.drawImage(ca.media,0,0,this.placeholder.width,this.placeholder.height)}catch(f){f instanceof q&&(f=f.val)}}""!=ca.media.currentSrc&&this.showPlaceholder(),ca.clearSources();for(var g=0;g<a.length;){var h=a[g];++g;var i,j=window.document;i=j.createElement("source"),i.src=h.url;for(var k=ka.getTypeWithCodecs(h),l=0;l<k.length&&!function(a){var b,c=k[l];return b="application/x-mpegurl"==c&&(E.isIOS()||a.getLive())?function(){var a;return a=!0}(a):function(a){var b,d,e=ca.media.canPlayType(c);d="canPlayType("+function(){var a,b=null;return a=JSON.stringify(c,null,b)}(a)+") = "+function(){var a,b=null;return a=JSON.stringify(e,null,b)}(a);return b=""!=e}(a)}(this);)++l;l<k.length?i.type=k[l]:i.type=null;ca.media.appendChild(i)}ca.media.load()}},checkEnded:function(){var a=this;if(null!=ca.media&&ca.media.ended&&!ca.media.paused){ca.media.pause(),window.setTimeout(function(){a.fireEvent("ended"),a.shouldPlay=!1},0)}},showPlaceholder:function(){if(null!=this.placeholder){this.positionPlaceholder(),this.placeholder.style.display="block",ca.media.style.visibility="hidden"}},hidePlaceholder:function(){if(null!=this.placeholder){ca.media.style.visibility="visible",this.placeholder.style.display="none"}},positionPlaceholder:function(){if(null!=this.placeholder){this.placeholder.style.left=ca.media.style.left,this.placeholder.style.top=ca.media.style.top,this.placeholder.style.width=ca.media.style.width,this.placeholder.style.height=ca.media.style.height}},onReadyStateEvent:function(a){this.trackedReadyState=ka.READY_STATE_EVENTS[a.type]},getReadyState:function(){return this.stalled?2:ka.TRACK_READY_STATE?this.trackedReadyState:ja.prototype.getReadyState.call(this)},startTargetHeightChange:function(a,b){var c=this;this.stopQualityCheck(),this.prevSrc=null,this.updateSources(a,function(){b(null,a),c.startQualityCheck()})},startQualityCheck:function(){this.qualityCheckInterval=window.setInterval(d(this,this.checkQuality),100)},stopQualityCheck:function(){ca.media.removeEventListener("loadedmetadata",d(this,this.onLoadedMetadata)),window.clearInterval(this.qualityCheckInterval)},checkQuality:function(){var a=ca.media.currentSrc;if(null!=a&&a!=this.prevSrc){if(ca.media.readyState>=1)this.onLoadedMetadata(null);else{var b=ca.media,c=d(this,this.onLoadedMetadata),e=null,f=null;f=function(a){b.removeEventListener("loadedmetadata",f),c.apply(e,[a])},b.addEventListener("loadedmetadata",f)}this.prevSrc=a}},onLoadedMetadata:function(){this.fireEvent("qualitychange")},__class__:ka});var la=function(){};e["zentrick.utils.Geo"]=la,la.__name__=!0,la.init=function(){ma.request("GET","https://watch.zentrick.com/-/geo/continent.json",null,function(a,b){null==a&&la.onResponse(JSON.parse(b))})},la.isReady=function(){return null!=la.clientGeo},la.addListener=function(a){la.eventTarget.addEventListener("ready",a)},la.getContinent=function(){return la.isReady()?la.clientGeo.continent:null},la.onResponse=function(a){if(null!=a){la.clientGeo=a;var b=new N;b.initEvent("ready",!1,!1),la.eventTarget.dispatchEvent(b)}};var ma=function(){};e["zentrick.utils.HTTP"]=ma,ma.__name__=!0,ma.request=function(a,b,c,d,e){b=ma.normalizeURL(b);var f;h.isFunction(d)?(e=d,f={}):f=null!=d?d:{};var j=c;if(c=null!=j?function(){var a,b=h.fields(j);return a=b.map(function(a){return encodeURIComponent(a)+"="+k.urlEncode(""+i.string(h.field(j,a)))})}(this).join("&"):"",f.isImage&&"GET"==a){var l=window.document.createElement("img");l.style.visibility="hidden",l.style.width="0px",l.style.height="0px",l.onload=function(){null!=e&&e(null,""),window.document.body.removeChild(l)},l.onerror=function(a){null!=e&&e(new Z("Request failed",a),null),window.document.body.removeChild(l)},l.src=b+(b.indexOf("?")<0?"?":"&")+i.string(c),window.document.body.appendChild(l)}else{var m,n=void 0!==window.XDomainRequest;if(n?(m=new XDomainRequest,ma.xdrInstances.push(m)):m=s.createXMLHttpRequest(),m.onload=function(){if(null!=e&&(n||200==m.status?e(null,m.responseText):e(new Z("Request failed: "+i.string(m.statusText)),null)),n){var a=m;g.remove(ma.xdrInstances,a)}},m.onerror=function(a){if(null!=e&&e(new Z("Request failed",a),null),n){var b=m;g.remove(ma.xdrInstances,b)}},m.open(a,b),"POST"==a){n||m.setRequestHeader("Content-Type","application/x-www-form-urlencoded");try{m.send(c)}catch(o){o instanceof q&&(o=o.val),e(new Z("Request failed",o),null)}}else try{m.send()}catch(p){p instanceof q&&(p=p.val),e(new Z("Request failed",p),null)}}},ma.normalizeURL=function(a){if(k.startsWith(a,"//")&&(a=ma.defaultProtocol+a),ma.urlRE.match(a)){var b=ma.urlRE.matched(1),c=ma.urlRE.matched(2);!function(a){var b,d=c;return d=d.toLowerCase(),b=Object.prototype.hasOwnProperty.call(ma.HTTPS_HOSTS,d)?!0:function(){var a,b;return b=ma.domainRE.match(d)?ma.domainRE.matched(1):null,a=null!=b&&Object.prototype.hasOwnProperty.call(ma.HTTPS_HOSTS,b)&&h.field(ma.HTTPS_HOSTS,b)}(a)}(this)?null==b&&(b=ma.defaultProtocol):b="https:",a=b+"//"+c+ma.urlRE.matchedRight()}return a};var na=function(){};e["zentrick.utils.Tools"]=na,na.__name__=!0,na.parseQueryString=function(a){var b={};return na.QS_RE.map(a,function(a){var c=a.matched(1),d=a.matched(3);try{c=decodeURIComponent(c.split("+").join(" "))}catch(e){return e instanceof q&&(e=e.val),""}if(null!=d)try{d=decodeURIComponent(d.split("+").join(" "))}catch(f){return f instanceof q&&(f=f.val),""}return b[c]=d,""}),b},na.toQueryString=function(a,b,c){null==c&&(c=!1);var d=h.fields(a);null!=b&&b.length>0&&(d=d.filter(function(a){return!function(){for(var c,d=!1,e=0,f=b.length;f>e;){var g=e++;if(b[g]==a){d=!0;break}}return c=d}(this)})),c&&d.sort(h.compare);for(var e=[],f=0;f<d.length;){var g=d[f];++f;var j=encodeURIComponent(g),k=h.field(a,g);if(null!=k){var l=""+i.string(k);l.length>0&&(j+="="+encodeURIComponent(l))}e.push(j)}return e.join("&")},na.encodeEntities=function(a){return na.ENTITY_CHAR_RE.map(a,na.insertEntityCode)},na.insertEntityCode=function(a){return na.CHAR_TO_ENTITY[a.matched(1)]},na.copy=function(a){if(!h.isObject(a)||"string"==typeof a)return a;var b;if(b=null==a?null:r.getClass(a),a instanceof Array&&null==a.__enum__){for(var c=new b,d=a.length,e=0;d>e;){var f=e++;c.push(na.copy(a[f]))}return c}var g;g=null!=b?new b:{};for(var i=0,j=h.fields(a);i<j.length;){var k=j[i];++i;var l=na.copy(h.field(a,k));g[k]=l}return g};var oa=0;e.Math=Math,String.prototype.__class__=e.String=String,String.__name__=!0,e.Array=Array,Array.__name__=!0,Date.prototype.__class__=e.Date=Date,Date.__name__=["Date"];var pa=e.Int={__name__:["Int"]},qa=e.Dynamic={__name__:["Dynamic"]},ra=e.Float=Number;ra.__name__=["Float"];var sa=Boolean;sa.__ename__=["Bool"];var ta=e.Class={__name__:["Class"]},ua={},va={};r.__toStr={}.toString,A.FAST_MOBILE_CONNECTION_TYPES=["ethernet","wifi","wimax"],C.handlingExceptions=0,C.seenExceptions={},D.canLoadExperience=!0,E.url=window.location.href,E.vendorPrefixes=["ms","webkit","moz","o"],F.url=E.url,F.desiredBitrate=-2,G.BOX_KEYS=["width","height","x","y"],G.aspectRatioCorrection=1,G.aspectRatio=-1,G.sourceVideoWidth=0,G.sourceVideoHeight=0,G.allowVideoDistortion=!1,J.PUBLICATION_KEYS=["publication","publishId"],J.LEGACY_PARAMS={"zntr-runtime":"runtime",autoPlay:"autoplay"},J.current=new J,K.current=new K,L._completionListeners=[],L._pending=[],M.PIXEL_HEIGHT_TO_QUALITY_LEVEL=new o,M.QUALITY_LEVEL_TO_PIXEL_HEIGHT=new p,M.QUALITY_LEVEL_PIXEL_HEIGHTS=function(){for(var a,b=[],c=0,d=M.get_instance().QUALITY_LEVELS;c<d.length;){var e=d[c];++c;var f,h=g.substr(e,0,e.length-1);f=parseInt(h,10),M.PIXEL_HEIGHT_TO_QUALITY_LEVEL.h[f]=e,M.QUALITY_LEVEL_TO_PIXEL_HEIGHT.set(e,f),b.push(f)}return b.sort(function(a,b){return a-b}),a=b}(this),N.CAPTURING_PHASE=1,N.AT_TARGET=2,N.BUBBLING_PHASE=3,Q.UNSPECIFIED_EVENT_TYPE_ERR=0,$.Player=v,$.urlTemplateVarRE=new f("\\[zentrick:([^\\]:]+)(?::([^\\]]+))?\\]","g"),$.registeredFonts=[],$.window=window,$.textInput=new W,$.internal={loadPublishData:D.loadExperiencePublicationData,loadBlueprintData:B.loadBlueprintPublicationData},ca.enterFullscreenKeyFunctions=["requestFullScreenWithKeys"],ca.enterFullscreenFunctions=["requestFullscreen","requestFullScreen","enterFullscreen"],
ca.exitFullscreenFunctions=["exitFullscreen","cancelFullscreen","cancelFullScreen"],ga.CURRENT_POPS=[{http:"video-eu-zentricknv.netdna-ssl.com"},{cont:["NA","SA","AS","OC","AN"],http:"video-us-zentricknv.netdna-ssl.com"}],ga.ENDPOINTS=[{minver:1,naming:"flat",pops:[{http:"d3tec5vsrcd0wg.cloudfront.net"}]},{minver:3,naming:"tree",pops:ga.CURRENT_POPS},{minver:4,naming:"tree",pops:ga.CURRENT_POPS}],ga.LINES_RE=new f("\r?\n","g"),ga.META_RE=new f("^#EXT-X-([^:]+):\\s*(.*?)\\s*$",""),ga.TOKENIZE_RE=new f('([^,=]+)=(?:"([^"]+)"|([^,]*))',"g"),ia.EVENTS_BY_STATE=[["loadedmetadata","qualitychange","durationchange","timeupdate"],["loadeddata"],["canplay"],["canplaythrough"]],ja.FORWARDED_EVENTS=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],ja.SUPPRESSED_EVENTS={loadstart:!0,canplay:!0,canplaythrough:!0,seeking:!0,seeked:!0,ended:!0},ka.TRACK_READY_STATE=E.isWindowsPhone8(),ka.READY_STATE_EVENTS={emptied:0,loadedmetadata:1,loadeddata:2,canplay:3,canplaythrough:4},la.eventTarget=new u,ma.HTTPS_HOSTS={"cdn.zentrick.com":!1,"watch.zentrick.com":!1,"zentr.cc":!1,"cloudfront.net":!0,"netdna-ssl.com":!0},ma.xdrInstances=[],ma.urlRE=new f("^([^:]+:)?//([^/]+)",""),ma.domainRE=new f("\\.([^.]+\\.[^.]+)$",""),ma.defaultProtocol=function(){var a,b=window.location.href,c=b.indexOf("//");return a=0>c?"https:":g.substr(b,0,c)}(this),na.PUBLICATION_ID_RE=new f("^[a-zA-Z0-9]{6}$",""),na.QS_RE=new f("&?([^=&]+)(=([^&]*))?","g"),na.ENTITY_CHAR_RE=new f('([&"<>])',"g"),na.CHAR_TO_ENTITY={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"},v.main()}("undefined"!=typeof window?window:exports,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);